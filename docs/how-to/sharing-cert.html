<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <script src="//use.typekit.net/jff5neq.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" media="all" href="/assets/css/animate.css">
    <link rel="stylesheet" type="text/css" media="all" href="/assets/css/okta.css">

    <title>How To Share Application Key Credentials | Okta Developer</title>
    <meta name="description" content="How to share application key credentials between apps">
    <link rel="canonical" href="http://developer.okta.com/docs/how-to/sharing-cert.html">
    <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="http://developer.okta.com/feed.xml">

    <!-- GA -->
    <script>
    	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    	ga('create', 'UA-15777010-3', 'auto');
    	ga('send', 'pageview');
    </script>
</head>

  <body>
	<div class="Page">
          <!-- START Header -->
	  <header id="header">
    <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1>

        <!-- START Primary Nav -->
        <nav>
            <div id="top-nav">
                <a href="#" id="mobile-close" class="mobile-toggle">
                    <span></span>
                    <span></span>
                </a>


                <a class="Button--green" href="https://www.okta.com/developer/signup">Get Started</a>
                <a class="SearchIcon" href="#"></a>
                <ul>
						<li><a href="/product/">Product</a></li>
						<li><a href="/documentation/">Documentation</a></li>
						<li><a href="/code/">Code</a></li>
                    <li class="has-dropdown">
                        <a href="#">Support</a>
                        <div class="dropdown-window">
                            <p class="stack-overflow">
	                                Post your question on <a href="http://stackoverflow.com/search?q=okta" target="_blank">Stack Overflow</a>
	                            </p>
                            <p class="email">
                                Email us:<br>
                                <a href="mailto:developers@okta.com">developers@okta.com</a>
                            </p>
                            <p class="tel">
                                Call us:<br>
                                <a href="tel:18887227871">1 (888) 722-7871</a>
                            </p>
                        </div>
                    </li>
                </ul>
                <form id="form_search" method="get" action="http://developer.okta.com/search/">
                    <input type="text" name="q" id="q" autocomplete="off">
                </form>
            </div>

            <div id="mobile-nav">
                <a id="mobile-search" href="http://developer.okta.com/search/"><span class="icon-search-light"></span></a>
                <a id="mobile-open" class="mobile-toggle" href="#top-nav">
                    <span></span>
                    <span></span>
                    <span></span>
                </a>
            </div>
        </nav>
        <!-- END Primary Nav -->
    </div>
</header>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TJ45R6');</script>
<!-- End Google Tag Manager -->

	  <!-- END Header -->
	      <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar -->
      <aside class="Sidebar">
    <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h3>
    <div class="Sidebar-close Sidebar-toggle"></div>
    <div>
        <h3 class="Sidebar-title">Use Cases</h3>
        <ul class="Sidebar-nav">
            
            
            
                
            
                
            
                
            
                
            
                
            
                
            
            <li><a href="/use_cases/authentication">Authentication</a></li>
            
            
            <li><a href="/use_cases/mfa">Multi-Factor Authentication</a></li>
            
            
            <li><a href="/use_cases/api_security">API Access Management</a></li>
            
            
            <li><a href="/use_cases/integrate_with_okta">Integrate with Okta</a></li>
            
        </ul>

        <h3 class="Sidebar-title">Reference</h3>
        <ul class="Sidebar-nav">
            <li>
                <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
                
            </li>

            
            

            <li>
                <a href="/docs/api/resources/authn.html">Authentication Reference</a>

                
            </li>

            <li>
                <a href="/docs/api/resources/apps.html">API Reference</a>

                

            </li>
            
            
                
                
                
                
                
                
                
                
                
                
                
                
                

                <li>
                    <a href="/reference/error_codes">
                        Error Codes
                    </a>
                </li>
            
                
                
                
                
                
                
                
                
                

                <li>
                    <a href="/reference/okta_expression_language">
                        Okta Expression Language
                    </a>
                </li>
            
                
                
                
                
                

                <li>
                    <a href="/docs/platform-release-notes/platform-release-notes.html">
                        Platform Release Notes
                    </a>
                </li>
            
        </ul>

        

        <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
        </script>

    </div>
</aside>

      <!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/master/_source/_docs/how-to/sharing-cert.md">Edit Page</a>
      <h1 id="share-application-key-credentials-between-apps">Share Application Key Credentials Between Apps</h1>

<p><a href="http://developer.okta.com/docs/api/resources/apps.html#application-key-credential-model">Application key credential objects</a> 
contain an opaque key ID (<code class="highlighter-rouge">kid</code>) and corresponding certificate.
To use the <a href="http://developer.okta.com/docs/api/resources/apps.html#clone-key-credential-for-application">API</a> 
to share application key credentials between apps, you need to create and use a new credential in one app, 
then share and update the credential in another app.</p>

<p>Sharing certificates is useful for Okta orgs that have apps with <a href="http://developer.okta.com/docs/api/resources/apps.html#signon-modes">sign-on modes</a> <code class="highlighter-rouge">SAML_2_0</code>, SAML 1.1, or <code class="highlighter-rouge">WS_FEDERATION</code>.</p>

<h3 id="why-should-i-do-this">Why Should I Do This?</h3>

<p>When configuring multiple apps, you might need them to accept the same identity provider (IdP). 
In that case, the assertions from the two apps must be signed by the same key.</p>

<h3 id="prerequisite">Prerequisite</h3>

<p>The key rollover feature must be enabled. It’s an Early Access feature; contact Support to enable it.</p>

<h3 id="how-to-share-the-certificate">How to Share the Certificate</h3>

<p>For this example, assume that you want to share a certificate between two instances of an app: <code class="highlighter-rouge">app1</code> is the source app, the app from 
which you wish to share a certificate, and <code class="highlighter-rouge">app2</code> is the target app, the app that receives the source app’s certificate.</p>

<p>This example also works if the apps are two instances of the same app, or two different apps.</p>

<h4 id="generate-a-new-credential-for-the-source-app">1. Generate a new credential for the source app</h4>

<p>Using the source app ID (<code class="highlighter-rouge">app</code>’s ID), generate a new credential for the source app:</p>

<p>Request: <code class="highlighter-rouge">POST /api/v1/apps/0oa8ae1t5yev2ajDs0h7/credentials/keys/generate?validityYears=2</code></p>

<p>Response:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">         
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-30T20:36:15.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-30T20:36:15.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-30T20:36:14.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"x5c"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"MIIDojCCAoqgAwIBAgIGAVd8z8kEMA0GCSqGSIb3DQEBBQUAMIGRMQswCQYDVQQGEwJVUz
     ETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UE
     CgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxEjAQBgNVBAMMCW15c3RpY29ycDEcMB
     oGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0xNjA5MzAyMDM1MTRaFw0xODA5MzAy
     MDM2MTRaMIGRMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBw
     wNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIx
     EjAQBgNVBAMMCW15c3RpY29ycDEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCAS
     IwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAIJsMX3q/IMqFTPfhGJHILgRGHrrvYnZ
     zL2snGvC4CssqBC1Az6PIAE+RtO1vT+6v1sRevHMICbi/ut4xB29C3fo33Y3syerVHEJD9
     sZ4Ht0/NjTSHrznjTjE2Ij2/1JuZY/XF+Kp8/bR+rP3Fa3mlcKJZqnwcdII3F6bbW8HPyz
     s8D8ytJJU1yc9xcm0rp+xqswWvRS9TMTRiV61OhE8ilMj+vjScIDQwOqD1LX0uiiQnjRIL
     rkK2NSUbFc9PC3oVELrWqZdloDCQd+xTI0TlxV6/i50K56o0YGWIne1IYdfazuK0tXTE8k
     wsvXEZ0tDRq/jVhBpoAtfQ8hKLxVBYUCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAfcgMeP
     D2nCGUImDmK7GcKIAH6fJCVfcpyHNZLYChB38yJgJ3F30mFZ0W/PM9pIW8ktLKh1lBp59p
     RwC4ITbpMMoWwK2EU/edocmi8qeVpG3ldXs5IeEMIoKt2c7Ndh8dTsj+fPdXDpF0iKPXtA
     3wgPvWxgioW6xCvePo98isevN7WGEEdEVzjdNdR7e4nPvJfKeGncvifV2rw0WOUIZQa524
     AQdfoY2fEKn9eFwPxFsKx1WV5nc6+WU5gcSkhmbzF+HohLCjVFMWwsUQNYpPBtzY9gM45G
     /bIs7EizkKT1ew0SRDI+Ws9roUKsquCWJWiAGxVEqheQvf4dauAOtqGQ=="</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gmwxfer8gyoVM9-EYkcguBEYeuu9idnMvayca8LgKyyoELUDPo8gAT5G07W9P7q_WxF6
        8cwgJuL-63jEHb0Ld-jfdjezJ6tUcQkP2xnge3T82NNIevOeNOMTYiPb_Um5lj9cX4qn
        z9tH6s_cVreaVwolmqfBx0gjcXpttbwc_LOzwPzK0klTXJz3FybSun7GqzBa9FL1MxNG
        JXrU6ETyKUyP6-NJwgNDA6oPUtfS6KJCeNEguuQrY1JRsVz08LehUQutapl2WgMJB37F
        MjROXFXr-LnQrnqjRgZYid7Uhh19rO4rS1dMTyTCy9cRnS0NGr-NWEGmgC19DyEovFUFhQ"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"x5t#S256"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ypBvmMYkQGPqxKL4SMdH9B7IXrtGADrvgEc-GKGQ7XY"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="update-the-source-app-to-use-the-new-certificate">2. Update the source app to use the new certificate</h4>

<p>Update the source app with the application key credential’s ID, <code class="highlighter-rouge">kid</code> so that the source app 
uses the new credential to sign assertions.</p>

<p>Request: <code class="highlighter-rouge">PUT /api/v1/apps/0oa8ae1t5yev2ajDs0h7</code></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myorg_app1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"signOnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML_2_0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"signing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Response:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w"> 
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0oa8ae1t5yev2ajDs0h7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myorg_app1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-30T22:23:38.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-27T22:51:53.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autoSubmitToolbar"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hide"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"iOS"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"appLinks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"myorg_app1_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"signOnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML_2_0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userNameTemplate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${source.login}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUILT_IN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"signing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<blockquote>
  <p>Note: The response has been truncated for clarity.</p>
</blockquote>

<h4 id="share-the-source-apps-key-credential-kid-with-the-target-app">3. Share the source app’s key credential (kid) with the target app</h4>

<p>Request:</p>

<p><code class="highlighter-rouge">POST /api/v1/apps/0oa8ae1t5yev2ajDs0h7/credentials/keys/w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI/clone?targetAid=0oa8ae0dv4RGQvjyZ0h7</code></p>

<p>Response:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-03T16:07:02.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-03T16:07:02.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-30T22:16:14.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"x5c"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"MIIDojCCAoqgAwIBAgIGAVd9K1ggMA0GCSqGSIb3DQEBBQUAMIGRMQswCQYDVQQGEwJVUzETMBEGA1
     UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIG
     A1UECwwLU1NPUHJvdmlkZXIxEjAQBgNVBAMMCW15c3RpY29ycDEcMBoGCSqGSIb3DQEJARYNaW5mb0
     Bva3RhLmNvbTAeFw0xNjA5MzAyMjE1MTVaFw0xODA5MzAyMjE2MTRaMIGRMQswCQYDVQQGEwJVUzET
     MBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YT
     EUMBIGA1UECwwLU1NPUHJvdmlkZXIxEjAQBgNVBAMMCW15c3RpY29ycDEcMBoGCSqGSIb3DQEJARYN
     aW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALUSyecgvygBYkjCp3
     dvz1aiYgcCxkTJi/SpuRFcqTcn4na4WeLPjUaTZwvkwQ71rb5MzNfRvNxLutSw7E+VhMtcNh5CcSZa
     J3JT20zHXxvL7fuVqCH9xA/4OPUrqgYNOF4cluBT9Kt1jdAq+XVs2hllm9yTIr0WETb8PvFyjvj+is
     qjRxOxVV638uhKsIhbb8nLghBUT5uoL3gQvBzuHy4WM0exXM+UPvBmRsIHp5CdfN+G6cxkgDN/gQha
     Fd03nStu8cz03VnJQsLy4vW8CkVnBAQdacUYlInStGqm3fB9Piq6oYRhYYANDqkFRlpxK/3HfboUlY
     Xk4+VYMEggXhkCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAEk2kiqV6T1D7ujWq6krMr7FX8j6yEag8
     j/C9X7WkPrCH655/jbi8/Q0+j2QuNJ1iCJLHnHFiKJQfeNv3hfu9PMHG2NldRY1dLElnkFh1PMBQ6R
     Ingas1HlE+V0Q/V8Rq4OI8LjfmXm/MR+5rI/sI46882j1c27XSuONTVPnn4JX+C2zuOBBH+rbn+YNm
     FxJnSPr0LgETr/ojhLo2NAWKkBtNG/qBrDHQbvRdxURKGhLjhWUX6z6pjm1V0QILGibyPjlQazjV25
     k7gMeU+jUFeB+v9eFxJDwQYLakR1xcLkElvGyGQMT16LdjrHJB/itpZw05oJCzDT04E3dmz2TK8w=="</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tRLJ5yC_KAFiSMKnd2_PVqJiBwLGRMmL9Km5EVypNyfidrhZ4s-NRpNnC-TBDvWtvkzM19G83Eu6
        1LDsT5WEy1w2HkJxJlonclPbTMdfG8vt-5WoIf3ED_g49SuqBg04XhyW4FP0q3WN0Cr5dWzaGWWb
        3JMivRYRNvw-8XKO-P6KyqNHE7FVXrfy6EqwiFtvycuCEFRPm6gveBC8HO4fLhYzR7Fcz5Q-8GZG
        wgenkJ1834bpzGSAM3-BCFoV3TedK27xzPTdWclCwvLi9bwKRWcEBB1pxRiUidK0aqbd8H0-Krqh
        hGFhgA0OqQVGWnEr_cd9uhSVheTj5VgwSCBeGQ"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"x5t#S256"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wnhwdJl6BWlS4dCqAMSoKZI1QdSfnnUqlchQKl4QTIY"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<blockquote>
  <p>Note: If you try to clone a credential that the target app instance already has, the API responds with a 400 error code.</p>
</blockquote>

<h4 id="update-the-target-app-to-use-the-new-credential-that-you-just-shared">4. Update the target app to use the new credential that you just shared</h4>

<p>Update the target app to use the new credential that you just shared.
When you update the target app with the <code class="highlighter-rouge">kid</code>, the target app starts
using the same certificate to sign assertions.</p>

<p>Request: <code class="highlighter-rouge">PUT /api/v1/apps/0oa8ae0dv4RGQvjyZ0h7</code></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myorg_app2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"signOnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML_2_0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"signing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Response:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0oa8ae0dv4RGQvjyZ0h7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myOrg_app2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"App 2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-03T16:53:50.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-27T22:53:34.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autoSubmitToolbar"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hide"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"iOS"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"appLinks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"myorg_app2_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"signOnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML_2_0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userNameTemplate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${source.login}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUILT_IN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"signing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w__Yr9AElCftDtLP5CmjzZFMKXndqHtx7B3QPkg8jrI"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre>
</div>

<blockquote>
  <p>Note: The response has been truncated for clarity.</p>
</blockquote>

<!-- Add this section when second bullet is available
### Other Tasks

You may also want to do related tasks:

* List all the keys in an app with a request.
* Discover which apps are sharing a certificate. Waiting for feature -->


      </div>
      <div class="TableOfContents TableOfContentsPreload">
          <div class="TableOfContents-item is-level1">
              <script>
                  document.write(document.title.split('|')[0].trim());
              </script>
          </div>
          <div class="TableOfContentsLoader"></div>
      </div>
      <!-- END Page Content -->
    </section>
    <!-- END Page Center w/Sub Nav & Content -->

	  <!-- START Footer -->
	  
        <footer class="footer">
            <div class="Wrap">

                <ul>
                    <li><a href="http://www.okta.com" target="_blank">Okta.com</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a></li>
                    <li><a href="/terms/">Terms &amp; Conditions</a></li>
                    <li><a href="/3rd_party_notices/">3rd Party Notices</a></li>
                    <li><a href="/privacy/">Privacy Policy</a></li>
                    <li><a href="http://okta.com/developer/contact/">Contact Sales</a></li>
                    <li><a href="mailto:developers@okta.com">Contact Support</a></li>
                </ul>

                <ul>
                    <li><a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a></li>
                    <li><a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a></li>
                    <li><a class="icon" href="http://stackoverflow.com/search?q=okta" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
                    <li><a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a></li>
                    <!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
                </ul>

            </div>
        </footer>

    <script src="https://code.jquery.com/jquery-3.1.0.min.js"
    integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
    crossorigin="anonymous"></script>

    
    

    
    <script type="text/javascript" defer="defer" src="/assets/js/docs.js"></script>

    <script src="/assets/js/master.js"></script>

    <!-- Remarketing tag -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1006913831;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <div style="display:none;">
        <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
    </script>
    </div>
    <noscript>
        <div style="display:inline;">
            <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"/>
        </div>
    </noscript>
    <!-- End Remarketing tag -->

    <!-- Crazy Egg Tracking -->
    <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script>
    <!-- End Crazy Egg Tracking -->

	  <!-- END Footer -->
	</div>
</body>
</html>
