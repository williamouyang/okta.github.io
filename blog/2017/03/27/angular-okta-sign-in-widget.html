<!doctype html>
<!--[if lt IE 7 ]> <html class="ie6 no-flexbox"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7 no-flexbox"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8 no-flexbox"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9 no-flexbox"> <![endif]-->
<!--[if IE 10 ]>    <html class="ie10 no-flexbox"> <![endif]-->
<!--[if (gt IE 10)|!(IE)]><!--> <html class="modern wf-loading" lang="en"> <!--<![endif]-->
  <head><head>
  <script>
  (function(d) {
    var config = {
      kitId: 'jff5neq',
      scriptTimeout: 3000,
      async: true
    },
    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
  })(document);
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <link rel="stylesheet" href="/assets/css/page-blog.css">
  <link rel="stylesheet" type="text/css" media="all" href="/assets/css/animate.css">
  <link rel="stylesheet" type="text/css" media="all" href="/assets/css/okta.css">
  <title>Build an Angular App with Okta's Sign-In Widget in 15 Minutes | Okta Developer</title>
  <meta name="description" content="AngularJS reigned as king of JavaScript MVC frameworks for several years. However, when the Angular team announced they would not provide backwards compatibi...">
  <link rel="canonical" href="http://developer.okta.com/blog/2017/03/27/angular-okta-sign-in-widget">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="http://developer.okta.com/feed.xml"><!-- GA -->

  <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-15777010-3', 'auto');
        ga('send', 'pageview');
  </script>
</head>

    <body id="blog">
	<header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://www.okta.com/developer/signup" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="stack-overflow">Post your question on <a href="http://stackoverflow.com/search?q=okta" target="_blank">Stack Overflow</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="http://developer.okta.com/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="http://developer.okta.com/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header><!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TJ45R6');
    </script> <!-- End Google Tag Manager -->

	<div class="page-content">
		<section class="PageContent" id="blog-post">
	<div class="PageContent-main">
		<div class="wrap blog">
			<section >
<div class="wrap">
	<article class="post-block">
	  <header class="post-title-block">
	    <h1><a href="/blog/2017/03/27/angular-okta-sign-in-widget">Build an Angular App with Okta's Sign-In Widget in 15 Minutes</a></h1>
	    <div class="attribution">
	      <img src="/assets/img/avatar-matt_raible.jpg"
	           alt="avatar-matt_raible.jpg"
	           class="author-avatar">
	      <address>Matt Raible</address>
	      &nbsp;
		  <a class="social_link" href="https://github.com/mraible"><i class="fa fa-github-square"></i></a>
		  <a class="social_link" href="https://twitter.com/mraible"><i class="fa fa-twitter-square"></i></a>
		  <a class="social_link" href="http://raibledesigns.com"><i class="fa fa-external-link-square"></i></a>
		  <span class="sepr">&middot;</span>
	      <time datetime="2017-03-27">March 27, 2017</time>
	    </div>
	  </header>
	  <section class="post-content">
	    <p>AngularJS reigned as king of JavaScript MVC frameworks for several years. However, when the Angular team announced they would not provide backwards compatibility for their next version, there was a bit of a stir in its community, giving opportunities for frameworks like React and Vue.js to flourish. Fast forward a few years and both Angular 2 and Angular 4 have been released. Many developers are trying its TypeScript and finding the experience a pleasant one. <a href="https://jaxenter.com/technology-trends-2017-top-frameworks-131993.html">According to JAXenter</a>, it’s doing a pretty good job, and holding strong as the third most popular UI framework, behind React and HTML5.</p>

<p>In this article, I’ll show you a quick way to get started with Angular, and add user authentication with <a href="http://developer.okta.com/code/javascript/okta_sign-in_widget">Okta’s Sign-In Widget</a>. If you’re just getting started with Angular, you might want to read my <a href="http://gist.asciidoctor.org/?github-mraible/ng-demo//README.adoc">Angular tutorial</a>. If you’d like to get the source code used in this article, you can <a href="https://github.com/oktadeveloper/okta-angular-sign-in-widget-example">find it on GitHub</a>.</p>

<h2 id="why-user-authentication-with-okta">Why User Authentication with Okta?</h2>

<p>Okta provides an API service that allows developers to create, edit, and securely store user accounts and user account data, and connect them with one or multiple applications. We make user account management easier, more secure, and scalable so you can get to production sooner.</p>

<p>The <a href="http://developer.okta.com/code/javascript/okta_sign-in_widget_ref">Okta Sign-in Widget</a> provides an embeddable JavaScript sign-in implementation that can be easily customized. The Sign-in Widget carries the same feature set in the standard Okta sign-in page of every tenant – with the added flexibility to change the look-and-feel. Included in the widget is support for password reset, forgotten password and strong authentication – all of which are driven by policies configured in Okta. Developers don’t have to write a single line of code to trigger these functions from within the widget. For consumer facing sites, social providers are also supported in the widget.</p>

<h2 id="create-an-angular-application">Create an Angular Application</h2>

<p>Angular 4 was <a href="http://angularjs.blogspot.com/2017/03/angular-400-now-available.html">recently released</a>, as well as <a href="https://github.com/angular/angular-cli/blob/master/CHANGELOG.md#100-2017-03-24">Angular CLI 1.0</a>. To see how you might use Okta’s Sign-In Widget in a simple Angular application, create a new application with Angular CLI. First, you’ll need to install Angular CLI.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>npm install -g @angular/cli
</code></pre>
</div>

<p>After this command completes, you can create a new application.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="o">[</span>mraible:~] <span class="nv">$ </span>ng new angular-okta-example
installing ng
  create .editorconfig
  create README.md
  create src/app/app.component.css
  create src/app/app.component.html
  create src/app/app.component.spec.ts
  create src/app/app.component.ts
  create src/app/app.module.ts
  create src/assets/.gitkeep
  create src/environments/environment.prod.ts
  create src/environments/environment.ts
  create src/favicon.ico
  create src/index.html
  create src/main.ts
  create src/polyfills.ts
  create src/styles.css
  create src/test.ts
  create src/tsconfig.app.json
  create src/tsconfig.spec.json
  create src/typings.d.ts
  create .angular-cli.json
  create e2e/app.e2e-spec.ts
  create e2e/app.po.ts
  create e2e/tsconfig.e2e.json
  create .gitignore
  create karma.conf.js
  create package.json
  create protractor.conf.js
  create tsconfig.json
  create tslint.json
Successfully initialized git.
Installing packages <span class="k">for </span>tooling via npm.
Installed packages <span class="k">for </span>tooling via npm.
You can <span class="sb">`</span>ng <span class="nb">set</span> --global <span class="nv">packageManager</span><span class="o">=</span>yarn<span class="sb">`</span>.
Project <span class="s1">'angular-okta-example'</span> successfully created.
<span class="o">[</span>mraible:~] 1m40s <span class="err">$</span>
</code></pre>
</div>

<p>This will create a new <code class="highlighter-rouge">angular-okta-example</code> directory and install all the necessary dependencies. To verify everything works, run <code class="highlighter-rouge">ng e2e</code> in a terminal window. All tests should pass and you should see results like the following.</p>

<p><img alt="Running e2e" src="/assets/img/blog/angular-sign-in-widget/e2e-success.png" style="width: 800px" /></p>

<h2 id="integrate-oktas-sign-in-widget-in-angular">Integrate Okta’s Sign-In Widget in Angular</h2>

<p>Now we’re going to leverage Okta’s Sign-In Widget for an easily customizable login view. To start, install the <a href="https://github.com/okta/okta-signin-widget">Okta Sign-In Widget</a> using npm. Note that <a href="https://github.com/okta/okta-signin-widget/issues/191">using Yarn won’t work</a>.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>npm install --save @okta/okta-signin-widget
</code></pre>
</div>

<p>Add the widget’s CSS to <code class="highlighter-rouge">src/styles.css</code>:</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="k">@import</span> <span class="s2">'~@okta/okta-signin-widget/dist/css/okta-sign-in.min.css'</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">'~@okta/okta-signin-widget/dist/css/okta-theme.css'</span><span class="p">;</span>
</code></pre>
</div>

<p>Add the widget’s JavaScript file to <code class="highlighter-rouge">.angular-cli.json</code>:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="s2">"scripts"</span><span class="err">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="s2">"../node_modules/@okta/okta-signin-widget/dist/js/okta-sign-in.min.js"</span><span class="w">
</span><span class="p">]</span><span class="err">,</span><span class="w">
</span></code></pre>
</div>

<p>Create <code class="highlighter-rouge">src/app/shared/okta/okta.service.ts</code> and use it to wrap the widget’s configuration and make it an injectable service.</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="kr">declare</span> <span class="kd">let</span> <span class="nx">OktaSignIn</span><span class="err">:</span> <span class="kr">any</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">()</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">Okta</span> <span class="p">{</span>
  <span class="nx">widget</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">widget</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OktaSignIn</span><span class="p">({</span>
      <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'https://dev-{YOUR-ID}.oktapreview.com'</span><span class="p">,</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="s1">'{CLIENT_ID}'</span><span class="p">,</span>
      <span class="na">redirectUri</span><span class="p">:</span> <span class="s1">'http://localhost:4200'</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">getWidget</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">widget</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>To make this service available to all components in the application, modify <code class="highlighter-rouge">app.module.ts</code> and list <code class="highlighter-rouge">Okta</code> as a provider.</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Okta</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./shared/okta/okta.service'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span><span class="nx">Okta</span><span class="p">],</span>
  <span class="na">bootstrap</span><span class="p">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>

<p><em>Thanks to <a href="https://twitter.com/nraboy">Nic Raboy</a> for teaching me that it’s pretty easy to <a href="https://www.thepolyglotdeveloper.com/2017/03/javascript-libraries-in-a-typescript-application-revisited/">include JavaScript libraries in a TypeScript application</a>. The key is the <code class="highlighter-rouge">declare</code> statement in the code above.</em></p>

<p>Before this will work, you’ll need to create an OpenID Connect (OIDC) application in Okta so you can replace the <code class="highlighter-rouge"><span class="p">{</span><span class="err">YOUR_ID</span><span class="p">}</span></code> and <code class="highlighter-rouge"><span class="p">{</span><span class="err">CLIENT_ID</span><span class="p">}</span></code> references when initializing the widget.</p>

<h2 id="create-an-openid-connect-app-in-okta">Create an OpenID Connect App in Okta</h2>

<p>OpenID Connect is built on top of the OAuth 2.0 protocol. It allows clients to verify the identity of the user and, as well as to obtain their basic profile information. To learn more, see http://openid.net/connect/.</p>

<p>Login to your Okta account, or create one at <a href="http://developer.okta.com">http://developer.okta.com</a> if you don’t have one. Navigate to <strong>Admin &gt; Add Applications</strong> and click on the <strong>Create New App</strong> button. Select <strong>Single Page App (SPA)</strong> for the Platform and <strong>OpenID Connect</strong> for the sign on method. Click the <strong>Create</strong> button and give your application a name. On the next screen, add <strong>http://localhost:4200</strong> as a Redirect URI and click <strong>Finish</strong>. You should see settings like the following.</p>

<p><img alt="OIDC App Settings" src="/assets/img/blog/angular-sign-in-widget/oidc-settings.png" style="width: 800px" /></p>

<p>Click on the <strong>People</strong> tab and the <strong>Assign to People</strong> button. Assign yourself as a user, or someone else that you know the credentials for.</p>

<h2 id="show-the-sign-in-widget">Show the Sign-In Widget</h2>

<p>After making these changes, copy the your Client ID and Platform ID into <code class="highlighter-rouge">okta.service.ts</code>. Then modify <code class="highlighter-rouge">app.component.ts</code> to use the <code class="highlighter-rouge">Okta</code> service and the widget to login/logout.</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Okta</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./shared/okta/okta.service'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'app-root'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'./app.component.html'</span><span class="p">,</span>
  <span class="na">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="s1">'./app.component.css'</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">AppComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="nx">title</span> <span class="o">=</span> <span class="s1">'app works!'</span><span class="p">;</span>
  <span class="nx">user</span><span class="p">;</span>
  <span class="nx">oktaSignIn</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">okta</span><span class="err">:</span> <span class="nx">Okta</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">oktaSignIn</span> <span class="o">=</span> <span class="nx">okta</span><span class="p">.</span><span class="nx">getWidget</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">showLogin</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">renderEl</span><span class="p">({</span><span class="na">el</span><span class="p">:</span> <span class="s1">'#okta-login-container'</span><span class="p">},</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'SUCCESS'</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">claims</span><span class="p">.</span><span class="nx">email</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">get</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="s1">'INACTIVE'</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">login</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">showLogin</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">logout</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">signOut</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">showLogin</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>And modify <code class="highlighter-rouge">app.component.html</code> to have a <code class="highlighter-rouge">&lt;div&gt;</code> with <code class="highlighter-rouge">id="okta-login-container"</code> and a place to show the logged in user’s email.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="err">*</span><span class="na">ngIf=</span><span class="s">"!user"</span> <span class="na">id=</span><span class="s">"okta-login-container"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="err">*</span><span class="na">ngIf=</span><span class="s">"user"</span><span class="nt">&gt;</span>
  Hello {{user}}

  <span class="nt">&lt;button</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">logout</span><span class="err">()"</span><span class="nt">&gt;</span>Logout<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<p>Run <code class="highlighter-rouge">ng serve</code>, and open your browser to <a href="http://localhost:4200">http://localhost:4200</a>. You should see the sign-in widget.</p>

<p><img alt="Sign-In Widget" src="/assets/img/blog/angular-sign-in-widget/sign-in-widget.png" style="width: 800px" /></p>

<p>Enter an assigned person’s credentials to login. You should see a “Hello {email}” message with a logout button.</p>

<p><img alt="Login Success" src="/assets/img/blog/angular-sign-in-widget/login-success.png" style="width: 800px" /></p>

<p><strong>NOTE:</strong> You may experience an issue where the sign-in process seems to hang. Clicking anywhere in the browser window seems to solve this problem. I’m not sure why.</p>

<p>If it works - congrats! If it doesn’t, please post a question to Stack Overflow with an <a href="http://stackoverflow.com/questions/tagged/okta">okta tag</a>, or hit me up <a href="https://twitter.com/mraible">on Twitter</a>.</p>

<h3 id="known-issues">Known Issues</h3>

<p>There are a couple of known issues in this tutorial. The first is that the widget’s CSS takes over the whole page and will override your app’s CSS. This is a <a href="https://github.com/okta/okta-signin-widget/issues/126">documented issue</a> and you can see <a href="https://github.com/okta/okta-signin-widget/issues/126#issuecomment-286530056">my comment on it</a> to learn more.</p>

<p>The other issue is that clicking the <strong>Logout</strong> button doesn’t re-render the Sign-In Widget. You can do a <code class="highlighter-rouge">location.reload()</code> after logging out, but I’m guessing there’s a better way.</p>

<p>To workaround the first issue, you can remove the global CSS files from <code class="highlighter-rouge">styles.css</code> and add CSS that only affects the widget.</p>

<h4 id="customize-the-widget-css">Customize the Widget CSS</h4>

<p>Remove the CSS <code class="highlighter-rouge">@import</code> statements to added to <code class="highlighter-rouge">src/styles.css</code>. Add an <code class="highlighter-rouge">@import</code> for <a href="https://v4-alpha.getbootstrap.com/">Bootstrap 4</a> and a few style rules to position elements. Copy the following code into <code class="highlighter-rouge">src/styles.css</code>.</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="k">@import</span> <span class="sx">url(https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css)</span><span class="p">;</span>

<span class="nf">#okta-login-container</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
  <span class="nl">max-width</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">silver</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">5px</span> <span class="m">5px</span> <span class="m">5px</span> <span class="m">0</span> <span class="no">silver</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#okta-login-container</span> <span class="nt">input</span> <span class="p">{</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#okta-login-container</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">checkbox</span><span class="o">]</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">25px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>After making these changes, the sign-in widget will look like the following screenshot.</p>

<p><img alt="Custom CSS" src="/assets/img/blog/angular-sign-in-widget/custom-css.png" style="width: 800px" /></p>

<h2 id="fix-your-tests">Fix Your Tests</h2>
<p>If you try to run <code class="highlighter-rouge">npm test</code> or <code class="highlighter-rouge">ng test</code>, tests will fail:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>Chrome 56.0.2924 <span class="o">(</span>Mac OS X 10.11.6<span class="o">)</span>: Executed 3 of 3 <span class="o">(</span>3 FAILED<span class="o">)</span> <span class="o">(</span>0 secs / 0.181 secs<span class="o">)</span>
Chrome 56.0.2924 <span class="o">(</span>Mac OS X 10.11.6<span class="o">)</span> AppComponent should render title <span class="k">in </span>a h1 tag FAILED
	Failed: No provider <span class="k">for </span>Okta!
</code></pre>
</div>

<p>To fix this, specify <code class="highlighter-rouge">Okta</code> as a provider in <code class="highlighter-rouge">src/app/app.component.spec.ts</code>.</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Okta</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./shared/okta/okta.service'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s1">'AppComponent'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">beforeEach</span><span class="p">(</span><span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nx">configureTestingModule</span><span class="p">({</span>
      <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span>
        <span class="nx">AppComponent</span>
      <span class="p">],</span>
      <span class="na">providers</span><span class="p">:</span> <span class="p">[</span><span class="nx">Okta</span><span class="p">]</span>
    <span class="p">}).</span><span class="nx">compileComponents</span><span class="p">();</span>
  <span class="p">}));</span>

</code></pre>
</div>

<p>After making this changes, you should see the sweet smell of success.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>Chrome 56.0.2924 <span class="o">(</span>Mac OS X 10.11.6<span class="o">)</span>: Executed 3 of 3 SUCCESS <span class="o">(</span>8.562 secs / 7.479 secs<span class="o">)</span>
</code></pre>
</div>

<p>Protractor tests should still work as well. You can prove this by running <code class="highlighter-rouge">ng e2e</code> in a terminal window.</p>

<h2 id="angular--okta">Angular + Okta</h2>

<p>You can find a completed version of the application created in this blog post <a href="https://github.com/oktadeveloper/okta-angular-sign-in-widget-example">on GitHub</a>. In a future post, I’ll show you how to create a more Angular-native experience, where you control the HTML for the login form.</p>

<p>Building authentication in an application is hard. It’s even less fun to build it over and over again in each application you build. Okta does the hard part for you and makes it a lot more fun to be a developer! <a href="https://www.okta.com/developer/signup/">Sign up for a forever-free developer account and try Okta today!</a>.</p>

<p>I hope you’ve enjoyed this quick tour of our Angular support. If you have questions about Okta’s features, or what we’re building next, please hit me up <a href="https://twitter.com/mraible">on Twitter</a>, <a href="http://stackoverflow.com/questions/tagged/okta">post a question to Stack Overflow with an “okta” tag</a>, or <a href="https://github.com/oktadeveloper/okta-angular-sign-in-widget-example/issues/new">open a new issue on GitHub</a>.</p>

	  </section>
	</article>
</div>
</section>

		</div>
	</div>
</section>
		
	</div><footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/blog">Blog</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="https://okta.com/developer/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="http://stackoverflow.com/search?q=okta" target="_blank"><i class="fa fa-stack-overflow"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous">
    </script>
    <script src="/assets/js/master.js">
    </script> <!-- Remarketing tag -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1006913831;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <div style="display:none;">
      <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
      </script>
    </div><noscript>
    <div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript> <!-- End Remarketing tag -->
     <!-- Crazy Egg Tracking -->
    <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script> <!-- End Crazy Egg Tracking -->

</body>
</html>
