<!doctype html>
<!--[if lt IE 7 ]> <html class="ie6 no-flexbox"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7 no-flexbox"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8 no-flexbox"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9 no-flexbox"> <![endif]-->
<!--[if IE 10 ]>    <html class="ie10 no-flexbox"> <![endif]-->
<!--[if (gt IE 10)|!(IE)]><!--> <html class="modern wf-loading" lang="en"> <!--<![endif]-->
  <head><head>
  <script>
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-0c98e9883bda5031970b06615651760ea5d52a256a8f4c156d8b85e8fa156cbb.css">
  
  
    <link type="text/css" rel="stylesheet" href="/assets/page-blog-367850afad8093d512ce46256493ec36aa919ccb2ed99af419063c06816ac5d8.css">
  
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <title>Tutorial: Develop a Mobile App With Ionic and Spring Boot | Okta Developer</title>
  <meta name="description" content="You already know that building APIs with Spring Boot is incredibly easy. But, your API isn’t complete without a UI, right? Well, building UIs with Ionic is p...">
  <link rel="canonical" href="https://developer.okta.com/blog/2017/05/17/develop-a-mobile-app-with-ionic-and-spring-boot">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
</head>

    <body id="blog">
	<header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://developer.okta.com/signup/" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="devforum">Post your question on <a href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank">Okta Developer Forums</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header><!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>
      if (isProduction) {
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-TJ45R6');
      }
    </script> <!-- End Google Tag Manager -->

	<div class="page-content">
		<section id="blog-post" class="main-container">
	<div class="wrap blog">
		<section >
  <div class="wrap">
    <article class="post-block">
      <header class="post-title-block">
        <h1><a href="/blog/2017/05/17/develop-a-mobile-app-with-ionic-and-spring-boot">Tutorial: Develop a Mobile App With Ionic and Spring Boot</a></h1>
        <div class="attribution">
          
            
            
              <img src="/assets/avatar-matt_raible-9974af6192eb1753b7137c8fff0a2c6e6bb9736a2517986cb5cc50bb040e83d4.jpg" alt="avatar-matt_raible.jpg" class="author-avatar">
            
            <address>Matt Raible</address>&nbsp;
            
              <a class="social_link" href="https://github.com/mraible"><i class="fa fa-github-square"></i></a>
            
            
              <a class="social_link" href="https://twitter.com/mraible"><i class="fa fa-twitter-square"></i></a>
            
            
            
              <a class="social_link" href="http://raibledesigns.com"><i class="fa fa-external-link-square"></i></a>
            
            <span class="sepr">&middot;</span>
          
          <time datetime="2017-05-17">May 17, 2017</time>
	      </div>
	    </header>
	    <section class="post-content">
	     <p>You already know that building APIs with Spring Boot is incredibly easy. But, your API isn’t complete without a UI, right? Well, building UIs with Ionic is pretty easy too, especially if you know Angular!</p>

<p>Ionic is an open source framework designed to help you build mobile applications with web technologies. It started out as a framework based on AngularJS. Ionic 3.0 was recently released, with support for Angular 4, TypeScript 2.2, and lazy loading. When developing an Ionic app, you’ll use Angular and have access to native APIs via Ionic Native and Apache Cordova. This means you can develop slick-looking UIs using the technologies you know and love: HTML, CSS, and TypeScript.</p>

<p>This tutorial will show you how to build a Spring Boot API and an Ionic app, and then how to deploy the finished product to your iOS or Android-based mobile device. Together, these technologies provide an excellent developer experience, with hot reloading so you see immediate feedback whenever you change files.</p>

<p><strong>Prerequisites</strong>: <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java 8</a> and <a href="https://nodejs.org">Node.js</a> installed.</p>

<h2 id="create-a-new-spring-boot-project">Create a New Spring Boot Project</h2>

<p>To begin, create a directory on your hard drive called <code class="highlighter-rouge">spring-boot-ionic-example</code>. During this tutorial, you will create <code class="highlighter-rouge">server</code> and <code class="highlighter-rouge">ionic-beer</code> directories to hold the server and client applications, respectively.</p>

<h2 id="build-a-spring-boot-api">Build a Spring Boot API</h2>

<p>I recently wrote about how to build a Spring Boot API in <a href="/blog/2017/04/26/bootiful-development-with-spring-boot-and-angular">Bootiful Development with Spring Boot with Angular</a>. Rather than covering that again, you can clone the existing project and copy the <code class="highlighter-rouge">server</code> directory into <code class="highlighter-rouge">spring-boot-ionic-example</code>.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>git clone https://github.com/oktadeveloper/spring-boot-angular-example.git
cp -r spring-boot-angular-example/server ~/spring-boot-ionic-example/.
</code></pre>
</div>

<p>This project contains a <code class="highlighter-rouge">beers</code> API that allows you to <abbr title="Create, Read, Update, and Delete">CRUD</abbr> a list of beer names. It also contains a <code class="highlighter-rouge">/good-beers</code> endpoint that filters out less-than-great beers. A <code class="highlighter-rouge">BeerCommandLineRunner</code> class creates the default list of beers:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">BeerCommandLineRunner</span> <span class="kd">implements</span> <span class="n">CommandLineRunner</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">BeerRepository</span> <span class="n">repository</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">BeerCommandLineRunner</span><span class="o">(</span><span class="n">BeerRepository</span> <span class="n">repository</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">repository</span> <span class="o">=</span> <span class="n">repository</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">strings</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="c1">// Top beers from https://www.beeradvocate.com/lists/top/</span>
        <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Kentucky Brunch Brand Stout"</span><span class="o">,</span> <span class="s">"Good Morning"</span><span class="o">,</span> <span class="s">"Very Hazy"</span><span class="o">,</span> <span class="s">"King Julius"</span><span class="o">,</span>
                <span class="s">"Budweiser"</span><span class="o">,</span> <span class="s">"Coors Light"</span><span class="o">,</span> <span class="s">"PBR"</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">name</span> <span class="o">-&gt;</span>
                <span class="n">repository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="k">new</span> <span class="n">Beer</span><span class="o">(</span><span class="n">name</span><span class="o">))</span>
        <span class="o">);</span>
        <span class="n">repository</span><span class="o">.</span><span class="na">findAll</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>The <code class="highlighter-rouge">BeerRepository</code> interface is decorated with <code class="highlighter-rouge">@RepositoryRestResource</code> to expose CRUD endpoints for the <code class="highlighter-rouge">Beer</code> entity.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RepositoryRestResource</span>
<span class="kd">interface</span> <span class="nc">BeerRepository</span> <span class="kd">extends</span> <span class="n">JpaRepository</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;</span> <span class="o">{}</span>
</code></pre>
</div>

<p>The last piece of the API is the <code class="highlighter-rouge">BeerController</code> that exposes <code class="highlighter-rouge">/good-beers</code> and specifies cross-origin resource sharing (CORS) settings.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BeerController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">BeerRepository</span> <span class="n">repository</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">BeerController</span><span class="o">(</span><span class="n">BeerRepository</span> <span class="n">repository</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">repository</span> <span class="o">=</span> <span class="n">repository</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/good-beers"</span><span class="o">)</span>
    <span class="nd">@CrossOrigin</span><span class="o">(</span><span class="n">origins</span> <span class="o">=</span> <span class="s">"http://localhost:4200"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">goodBeers</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="n">repository</span><span class="o">.</span><span class="na">findAll</span><span class="o">().</span><span class="na">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="k">this</span><span class="o">::</span><span class="n">isGreat</span><span class="o">)</span>
                <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isGreat</span><span class="o">(</span><span class="n">Beer</span> <span class="n">beer</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="n">beer</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"Budweiser"</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                <span class="o">!</span><span class="n">beer</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"Coors Light"</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                <span class="o">!</span><span class="n">beer</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"PBR"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>You should be able to start the <code class="highlighter-rouge">server</code> application by running it in your favorite IDE or from the command line using <code class="highlighter-rouge">mvn spring-boot:run</code>. You’ll want to do this from the <code class="highlighter-rouge">server</code> directory. If you don’t have Maven installed, you can use the Maven wrapper that’s included in the project (<code class="highlighter-rouge">./mvnw spring-boot:run</code>).</p>

<p>After the app has started, navigate to <a href="http://localhost:8080/good-beers">http://localhost:8080/good-beers</a>. You should see the list of good beers in your browser.</p>

<p><img src="/assets/blog/ionic-spring-boot/good-beers-json-e1d41f9859ef735fa60939aa8ceeffba8f73c26f3da69013fc69c6e2ad027d57.png" alt="Good Beers JSON" width="800" /></p>

<h2 id="create-an-ionic-app">Create an Ionic App</h2>

<p>To create an Ionic app to display data from your API, you’ll first need to install Ionic CLI and Cordova:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>npm install -g ionic cordova
</code></pre>
</div>

<p>The <a href="http://ionicframework.com/docs/cli/">Ionic CLI</a> is a command-line tool that significantly reduces the time it takes to develop an Ionic app. It’s like a Swiss Army Knife: It brings together a bunch of miscellaneous tools under a single interface. The CLI contains a number of useful commands for Ionic development, such as <code class="highlighter-rouge">start</code>, <code class="highlighter-rouge">build</code>, <code class="highlighter-rouge">generate</code>, <code class="highlighter-rouge">serve</code>, and <code class="highlighter-rouge">run</code>.</p>

<p>After installation completes, create a new application using the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ionic start ionic-beer --type ionic-angular
</code></pre>
</div>

<p>You will be prompted to select a starter project and optionally link your app to your Ionic Dashboard. For the purposes of this tutorial, choose the <strong>tabs</strong> starter project and do not link the app to your Ionic Dashboard.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>ionic-beer
ionic serve
</code></pre>
</div>

<p>This will open your default browser on <a href="http://localhost:8100">http://localhost:8100</a>. You can click through the tabbed interface to see the default structure of the app.</p>

<p><img src="/assets/blog/ionic-spring-boot/ionic-tabs-a947a40668cf63af0155359e4c7c44c0b035ca171a6c2c8fd5235f47940caf96.png" alt="Ionic shell with tabs" width="800" /></p>

<p>Open the <code class="highlighter-rouge">ionic-beer</code> project in your preferred IDEA to start creating your UI. I recommend using IntelliJ IDEA because it has good TypeScript support and can auto-import classes just like it does for Java project.</p>

<h2 id="create-a-good-beers-ui">Create a Good Beers UI</h2>

<p>Run <code class="highlighter-rouge">ionic generate page beer</code> to create a component and a template to display the list of good beers. This creates a number of files in <code class="highlighter-rouge">src/pages/beer</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>beer.html
beer.module.ts
beer.scss
beer.ts
</code></pre>
</div>

<p>Open <code class="highlighter-rouge">src/app/app.module.ts</code> and add <code class="highlighter-rouge">BeerPageModule</code> to the <code class="highlighter-rouge">imports</code> list in <code class="highlighter-rouge">app.module.ts</code>.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">BeerPageModule</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../pages/beer/beer.module'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="na">imports</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BrowserModule</span><span class="p">,</span>
    <span class="nx">IonicModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">MyApp</span><span class="p">),</span>
    <span class="nx">BeerPageModule</span>
  <span class="p">],</span>
  <span class="p">...</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Create <code class="highlighter-rouge">src/providers/beer-service.ts</code> to hold a <code class="highlighter-rouge">BeerService</code> that fetches the beer list from the Spring Boot API. Populate it with constants for the API path and add a <code class="highlighter-rouge">getGoodBeers()</code> method.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Http</span><span class="p">,</span> <span class="nx">Response</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/http'</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">'rxjs/add/operator/map'</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">'rxjs/add/operator/catch'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Observable</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'rxjs'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">()</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">BeerService</span> <span class="p">{</span>
  <span class="k">public</span> <span class="nx">API</span> <span class="o">=</span> <span class="s1">'http://localhost:8080'</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">BEER_API</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">API</span> <span class="o">+</span> <span class="s1">'/beers'</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">http</span><span class="err">:</span> <span class="nx">Http</span><span class="p">)</span> <span class="p">{}</span>

  <span class="nx">getGoodBeers</span><span class="p">()</span><span class="err">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">API</span> <span class="o">+</span> <span class="s1">'/good-beers'</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="na">response</span><span class="p">:</span> <span class="nx">Response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>NOTE:</strong> If you receive TypeScript errors with this code, make sure your imports match. In particular, <code class="highlighter-rouge">Response</code> needs to be imported for <code class="highlighter-rouge">getGoodBeers()</code> to compile.</p>

<p>Replace the HTML in <code class="highlighter-rouge">src/pages/beer/beer.html</code> to show the list of beers.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-header&gt;</span>
  <span class="nt">&lt;ion-navbar&gt;</span>
    <span class="nt">&lt;ion-title&gt;</span>Good Beers<span class="nt">&lt;/ion-title&gt;</span>
  <span class="nt">&lt;/ion-navbar&gt;</span>
<span class="nt">&lt;/ion-header&gt;</span>

<span class="nt">&lt;ion-content</span> <span class="na">padding</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ion-list&gt;</span>
    <span class="nt">&lt;ion-item</span> <span class="err">*</span><span class="na">ngFor=</span><span class="s">"let beer of beers"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span>{{beer.name}}<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;/ion-item&gt;</span>
  <span class="nt">&lt;/ion-list&gt;</span>
<span class="nt">&lt;/ion-content&gt;</span>
</code></pre>
</div>

<p>Modify <code class="highlighter-rouge">src/pages/beer/beer.module.ts</code> to import <code class="highlighter-rouge">BeerService</code> and add it as a provider. You could add it as a provider in each component, but adding it in the module allows all components to use it.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">BeerService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/beer-service'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BeerService</span>
  <span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Update <code class="highlighter-rouge">src/pages/beer/beer.ts</code> to import <code class="highlighter-rouge">BeerService</code> and add it as a dependency in the constructor. Call the <code class="highlighter-rouge">getGoodBeers()</code> method in the <code class="highlighter-rouge">ionViewDidLoad()</code> lifecycle method.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">IonicPage</span><span class="p">,</span> <span class="nx">NavController</span><span class="p">,</span> <span class="nx">NavParams</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'ionic-angular'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BeerService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/beer-service'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">IonicPage</span><span class="p">()</span>
<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'page-beer'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'beer.html'</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">BeerPage</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">beers</span><span class="err">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">navCtrl</span><span class="err">:</span> <span class="nx">NavController</span><span class="p">,</span> <span class="k">public</span> <span class="nx">navParams</span><span class="err">:</span> <span class="nx">NavParams</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">beerService</span><span class="err">:</span> <span class="nx">BeerService</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">ionViewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">beerService</span><span class="p">.</span><span class="nx">getGoodBeers</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">beers</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">beers</span> <span class="o">=</span> <span class="nx">beers</span><span class="p">;</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>To expose this page on the tab bar, modify <code class="highlighter-rouge">src/pages/tabs/tabs.ts</code> and re-arrange things so <code class="highlighter-rouge">BeerPage</code> is second in the list.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">HomePage</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../home/home'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">AboutPage</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../about/about'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ContactPage</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../contact/contact'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BeerPage</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../beer/beer'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'tabs.html'</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">TabsPage</span> <span class="p">{</span>
  <span class="nx">tab1Root</span> <span class="o">=</span> <span class="nx">HomePage</span><span class="p">;</span>
  <span class="nx">tab2Root</span> <span class="o">=</span> <span class="nx">BeerPage</span><span class="p">;</span>
  <span class="nx">tab3Root</span> <span class="o">=</span> <span class="nx">AboutPage</span><span class="p">;</span>
  <span class="nx">tab4Root</span> <span class="o">=</span> <span class="nx">ContactPage</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>You’ll also need to update <code class="highlighter-rouge">src/pages/tabs/tabs.html</code> to have the new tab order and to specify which icon to use.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-tabs&gt;</span>
  <span class="nt">&lt;ion-tab</span> <span class="err">[</span><span class="na">root</span><span class="err">]="</span><span class="na">tab1Root</span><span class="err">"</span> <span class="na">tabTitle=</span><span class="s">"Home"</span> <span class="na">tabIcon=</span><span class="s">"home"</span><span class="nt">&gt;&lt;/ion-tab&gt;</span>
  <span class="nt">&lt;ion-tab</span> <span class="err">[</span><span class="na">root</span><span class="err">]="</span><span class="na">tab2Root</span><span class="err">"</span> <span class="na">tabTitle=</span><span class="s">"Beer"</span> <span class="na">tabIcon=</span><span class="s">"beer"</span><span class="nt">&gt;&lt;/ion-tab&gt;</span>
  <span class="nt">&lt;ion-tab</span> <span class="err">[</span><span class="na">root</span><span class="err">]="</span><span class="na">tab3Root</span><span class="err">"</span> <span class="na">tabTitle=</span><span class="s">"Contact"</span> <span class="na">tabIcon=</span><span class="s">"contacts"</span><span class="nt">&gt;&lt;/ion-tab&gt;</span>
  <span class="nt">&lt;ion-tab</span> <span class="err">[</span><span class="na">root</span><span class="err">]="</span><span class="na">tab4Root</span><span class="err">"</span> <span class="na">tabTitle=</span><span class="s">"About"</span> <span class="na">tabIcon=</span><span class="s">"information-circle"</span><span class="nt">&gt;&lt;/ion-tab&gt;</span>
<span class="nt">&lt;/ion-tabs&gt;</span>
</code></pre>
</div>

<h3 id="add-some-fun-with-animated-gifs">Add Some Fun with Animated GIFs</h3>

<p>Create a <code class="highlighter-rouge">GiphyService</code> class in <code class="highlighter-rouge">src/providers/giphy-service.ts</code> with code that searches Giphy’s API.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Http</span><span class="p">,</span> <span class="nx">Response</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/http'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Observable</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'rxjs'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">()</span>
<span class="c1">// http://tutorials.pluralsight.com/front-end-javascript/getting-started-with-angular-2-by-building-a-giphy-search-application</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">GiphyService</span> <span class="p">{</span>

  <span class="c1">// Public beta key: https://github.com/Giphy/GiphyAPI#public-beta-key</span>
  <span class="nx">giphyApi</span> <span class="o">=</span> <span class="s1">'https://api.giphy.com/v1/gifs/search?api_key=dc6zaTOxFJmzC&amp;q='</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">http</span><span class="err">:</span> <span class="nx">Http</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">get</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">)</span><span class="err">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">apiLink</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">giphyApi</span> <span class="o">+</span> <span class="nx">searchTerm</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">apiLink</span><span class="p">).</span><span class="nx">map</span><span class="p">((</span><span class="na">res</span><span class="p">:</span> <span class="nx">Response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">data</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">images</span><span class="p">.</span><span class="nx">original</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'https://media.giphy.com/media/YaOxRsmrv9IeA/giphy.gif'</span><span class="p">;</span> <span class="c1">// dancing cat for 404</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Update <code class="highlighter-rouge">beer.module.ts</code> to import <code class="highlighter-rouge">GiphyService</code> and include it as a provider.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">GiphyService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/giphy-service'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BeerService</span><span class="p">,</span>
    <span class="nx">GiphyService</span>
  <span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Modify <code class="highlighter-rouge">beer.ts</code> to import <code class="highlighter-rouge">GiphyService</code> and set a <code class="highlighter-rouge">giphyUrl</code> on each beer.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">IonicPage</span><span class="p">,</span> <span class="nx">NavController</span><span class="p">,</span> <span class="nx">NavParams</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'ionic-angular'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BeerService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/beer-service'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">GiphyService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/giphy-service'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">IonicPage</span><span class="p">()</span>
<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'page-beer'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'beer.html'</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">BeerPage</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">beers</span><span class="err">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">navCtrl</span><span class="err">:</span> <span class="nx">NavController</span><span class="p">,</span> <span class="k">public</span> <span class="nx">navParams</span><span class="err">:</span> <span class="nx">NavParams</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">beerService</span><span class="err">:</span> <span class="nx">BeerService</span><span class="p">,</span> <span class="k">public</span> <span class="nx">giphyService</span><span class="err">:</span> <span class="nx">GiphyService</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">ionViewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">beerService</span><span class="p">.</span><span class="nx">getGoodBeers</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">beers</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">beers</span> <span class="o">=</span> <span class="nx">beers</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">beer</span> <span class="nx">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">beers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">giphyService</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">beer</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">url</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">beer</span><span class="p">.</span><span class="nx">giphyUrl</span> <span class="o">=</span> <span class="nx">url</span>
        <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Update <code class="highlighter-rouge">beer.html</code> to display the image retrieved:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-item</span> <span class="err">*</span><span class="na">ngFor=</span><span class="s">"let beer of beers"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ion-avatar</span> <span class="na">item-left</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{{beer.giphyUrl}}"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/ion-avatar&gt;</span>
  <span class="nt">&lt;h2&gt;</span>{{beer.name}}<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;/ion-item&gt;</span>
</code></pre>
</div>

<p>Start the Spring Boot app in one terminal window and run <code class="highlighter-rouge">ionic serve</code> in another. Open <a href="http://localhost:8100">http://localhost:8100</a> in your browser. Click on the Beer icon, and you’ll likely see an error in your browser.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Uncaught (in promise): Error: No provider for Http!
</code></pre>
</div>

<p><img src="/assets/blog/ionic-spring-boot/no-http-provider-da85a2e1b4601e81e16697457b5923b7af4457881c52a6df8973a9e14e266a1d.png" alt="No provider for Http!" width="800" /></p>

<p>This highlights one of the slick features of Ionic: errors display in your browser, not just the browser’s console. Add <code class="highlighter-rouge">HttpModule</code> to the list of imports in <code class="highlighter-rouge">src/app/app.module.ts</code> to solve this issue.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">HttpModule</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/http'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="na">imports</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BrowserModule</span><span class="p">,</span>
    <span class="nx">HttpModule</span><span class="p">,</span>
    <span class="nx">IonicModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">MyApp</span><span class="p">),</span>
    <span class="nx">BeerPageModule</span>
  <span class="p">],</span>
</code></pre>
</div>

<p>After making this change, you’ll likely see the following error in your browser’s console.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>XMLHttpRequest cannot load http://localhost:8080/good-beers. No 'Access-Control-Allow-Origin'
header is present on the requested resource. Origin 'http://localhost:8100' is therefore
not allowed access. The response had HTTP status code 401.
</code></pre>
</div>

<p>To fix this, open your Spring Boot application’s <code class="highlighter-rouge">BeerController.java</code> class and change its <code class="highlighter-rouge">@CrossOrigin</code> annotation to allow <code class="highlighter-rouge">http://localhost:8100</code> and <code class="highlighter-rouge">file://</code>. This enables cross-origin resource sharing (CORS) from both the browser and the mobile client.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@CrossOrigin</span><span class="o">(</span><span class="n">origins</span> <span class="o">=</span> <span class="o">{</span><span class="s">"http://localhost:8100"</span><span class="o">,</span><span class="s">"file://"</span><span class="o">})</span>
<span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">goodBeers</span><span class="o">()</span> <span class="o">{</span>
</code></pre>
</div>

<p>Recompile this class, and DevTools should restart the application.</p>

<p>If everything works as expected, you should see a page similar to the one below in your browser.</p>

<p><img src="/assets/blog/ionic-spring-boot/good-beers-ui-0f728f4d0add9daa51b4cf14c61d49ef0f085efad12ca7ccd6b522d60ce0c5cf.png" alt="Good Beers UI" width="800" /></p>

<h3 id="add-a-modal-for-editing">Add a Modal for Editing</h3>

<p>Change the header in <code class="highlighter-rouge">beer.html</code> to have a button that opens a modal to add a new beer.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-header&gt;</span>
  <span class="nt">&lt;ion-navbar&gt;</span>
    <span class="nt">&lt;ion-title&gt;</span>Good Beers<span class="nt">&lt;/ion-title&gt;</span>
    <span class="nt">&lt;ion-buttons</span> <span class="na">end</span><span class="nt">&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">ion-button</span> <span class="na">icon-only</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">openModal</span><span class="err">()"</span> <span class="na">color=</span><span class="s">"primary"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ion-icon</span> <span class="na">name=</span><span class="s">"add-circle"</span><span class="nt">&gt;&lt;/ion-icon&gt;</span>
        <span class="nt">&lt;ion-icon</span> <span class="na">name=</span><span class="s">"beer"</span><span class="nt">&gt;&lt;/ion-icon&gt;</span>
      <span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/ion-buttons&gt;</span>
  <span class="nt">&lt;/ion-navbar&gt;</span>
<span class="nt">&lt;/ion-header&gt;</span>
</code></pre>
</div>

<p>In this same file, change <code class="highlighter-rouge">&lt;ion-item&gt;</code> to have a click handler for opening the modal for the current item.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-item</span> <span class="err">*</span><span class="na">ngFor=</span><span class="s">"let beer of beers"</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">openModal</span><span class="err">({</span><span class="na">id:</span> <span class="na">beer</span><span class="err">.</span><span class="na">id</span><span class="err">})"</span><span class="nt">&gt;</span>
</code></pre>
</div>

<p>Add <code class="highlighter-rouge">ModalController</code> as a dependency in <code class="highlighter-rouge">beer.ts</code> and add an <code class="highlighter-rouge">openModal()</code> method.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">IonicPage</span><span class="p">,</span> <span class="nx">ModalController</span><span class="p">,</span> <span class="nx">NavController</span><span class="p">,</span> <span class="nx">NavParams</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'ionic-angular'</span><span class="p">;</span>

<span class="k">export</span> <span class="kr">class</span> <span class="nx">BeerPage</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">beers</span><span class="err">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">navCtrl</span><span class="err">:</span> <span class="nx">NavController</span><span class="p">,</span> <span class="k">public</span> <span class="nx">navParams</span><span class="err">:</span> <span class="nx">NavParams</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">beerService</span><span class="err">:</span> <span class="nx">BeerService</span><span class="p">,</span> <span class="k">public</span> <span class="nx">giphyService</span><span class="err">:</span> <span class="nx">GiphyService</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">modalCtrl</span><span class="err">:</span> <span class="nx">ModalController</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="c1">// ionViewDidLoad()</span>

  <span class="nx">openModal</span><span class="p">(</span><span class="nx">beerId</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">modal</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">modalCtrl</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">BeerModalPage</span><span class="p">,</span> <span class="nx">beerId</span><span class="p">);</span>
    <span class="nx">modal</span><span class="p">.</span><span class="nx">present</span><span class="p">();</span>
    <span class="c1">// refresh data after modal dismissed</span>
    <span class="nx">modal</span><span class="p">.</span><span class="nx">onDidDismiss</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">ionViewDidLoad</span><span class="p">())</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>This won’t compile because <code class="highlighter-rouge">BeerModalPage</code> doesn’t exist. Create <code class="highlighter-rouge">beer-modal.ts</code> in the same directory. This page will retrieve the beer from the <code class="highlighter-rouge">beerId</code> that’s passed in. It will render the name, allow editing, and show the Giphy image found for the name.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">BeerService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/beer-service'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">ViewChild</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">GiphyService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'../../providers/giphy-service'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NavParams</span><span class="p">,</span> <span class="nx">ViewController</span><span class="p">,</span> <span class="nx">ToastController</span><span class="p">,</span> <span class="nx">NavController</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'ionic-angular'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NgForm</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/forms'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'./beer-modal.html'</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">BeerModalPage</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="nx">name</span><span class="p">;</span>
  <span class="nl">beer</span><span class="p">:</span> <span class="kr">any</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">beerService</span><span class="err">:</span> <span class="nx">BeerService</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">giphyService</span><span class="err">:</span> <span class="nx">GiphyService</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">params</span><span class="err">:</span> <span class="nx">NavParams</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">viewCtrl</span><span class="err">:</span> <span class="nx">ViewController</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">toastCtrl</span><span class="err">:</span> <span class="nx">ToastController</span><span class="p">,</span>
              <span class="k">public</span> <span class="nx">navCtrl</span><span class="err">:</span> <span class="nx">NavController</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">beerService</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">beer</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">beer</span> <span class="o">=</span> <span class="nx">beer</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">beer</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">beer</span><span class="p">.</span><span class="nx">_links</span><span class="p">.</span><span class="nx">self</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">giphyService</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">beer</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">url</span> <span class="o">=&gt;</span> <span class="nx">beer</span><span class="p">.</span><span class="nx">giphyUrl</span> <span class="o">=</span> <span class="nx">url</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">dismiss</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">viewCtrl</span><span class="p">.</span><span class="nx">dismiss</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">save</span><span class="p">(</span><span class="na">form</span><span class="p">:</span> <span class="nx">NgForm</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="na">update</span><span class="p">:</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="nx">form</span><span class="p">[</span><span class="s1">'href'</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">beerService</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">form</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">toast</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toastCtrl</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
        <span class="na">message</span><span class="p">:</span> <span class="s1">'Beer "'</span> <span class="o">+</span> <span class="nx">form</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">'" '</span> <span class="o">+</span> <span class="p">((</span><span class="nx">update</span><span class="p">)</span> <span class="p">?</span> <span class="s1">'updated'</span> <span class="p">:</span> <span class="s1">'added'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'.'</span><span class="p">,</span>
        <span class="na">duration</span><span class="p">:</span> <span class="mi">2000</span>
      <span class="p">});</span>
      <span class="nx">toast</span><span class="p">.</span><span class="nx">present</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">dismiss</span><span class="p">();</span>
    <span class="p">},</span> <span class="nx">error</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">error</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">ionViewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">setFocus</span><span class="p">();</span>
    <span class="p">},</span><span class="mi">150</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Add the import for <code class="highlighter-rouge">BeerModalPage</code> to <code class="highlighter-rouge">beer.ts</code>, then create <code class="highlighter-rouge">src/pages/beer/beer-modal.html</code> as a template for this page.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-header&gt;</span>
  <span class="nt">&lt;ion-toolbar&gt;</span>
    <span class="nt">&lt;ion-title&gt;</span>
      {{beer ? 'Beer Details' : 'Add Beer'}}
    <span class="nt">&lt;/ion-title&gt;</span>
    <span class="nt">&lt;ion-buttons</span> <span class="na">start</span><span class="nt">&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">ion-button</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">dismiss</span><span class="err">()"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">ion-text</span> <span class="na">color=</span><span class="s">"primary"</span> <span class="na">showWhen=</span><span class="s">"ios,core"</span><span class="nt">&gt;</span>Cancel<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;ion-icon</span> <span class="na">name=</span><span class="s">"md-close"</span> <span class="na">showWhen=</span><span class="s">"android,windows"</span><span class="nt">&gt;&lt;/ion-icon&gt;</span>
      <span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/ion-buttons&gt;</span>
  <span class="nt">&lt;/ion-toolbar&gt;</span>
<span class="nt">&lt;/ion-header&gt;</span>
<span class="nt">&lt;ion-content</span> <span class="na">padding</span><span class="nt">&gt;</span>
  <span class="nt">&lt;form</span> <span class="err">#</span><span class="na">beerForm=</span><span class="s">"ngForm"</span> <span class="err">(</span><span class="na">ngSubmit</span><span class="err">)="</span><span class="na">save</span><span class="err">(</span><span class="na">beerForm</span><span class="err">.</span><span class="na">value</span><span class="err">)"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"href"</span> <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]="</span><span class="na">beer</span><span class="err">.</span><span class="na">href</span><span class="err">"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ion-row&gt;</span>
      <span class="nt">&lt;ion-col&gt;</span>
        <span class="nt">&lt;ion-list</span> <span class="na">inset</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ion-item&gt;</span>
            <span class="nt">&lt;ion-input</span> <span class="na">placeholder=</span><span class="s">"Beer Name"</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">type=</span><span class="s">"text"</span>
                       <span class="na">required</span> <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]="</span><span class="na">beer</span><span class="err">.</span><span class="na">name</span><span class="err">"</span> <span class="err">#</span><span class="na">name</span><span class="nt">&gt;&lt;/ion-input&gt;</span>
          <span class="nt">&lt;/ion-item&gt;</span>
        <span class="nt">&lt;/ion-list&gt;</span>
      <span class="nt">&lt;/ion-col&gt;</span>
    <span class="nt">&lt;/ion-row&gt;</span>
    <span class="nt">&lt;ion-row&gt;</span>
      <span class="nt">&lt;ion-col</span> <span class="err">*</span><span class="na">ngIf=</span><span class="s">"beer"</span> <span class="na">text-center</span><span class="nt">&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{{beer.giphyUrl}}"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;/ion-col&gt;</span>
    <span class="nt">&lt;/ion-row&gt;</span>
    <span class="nt">&lt;ion-row&gt;</span>
      <span class="nt">&lt;ion-col&gt;</span>
        <span class="nt">&lt;div</span> <span class="err">*</span><span class="na">ngIf=</span><span class="s">"error"</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span><span class="nt">&gt;</span>{{error}}<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">ion-button</span> <span class="na">color=</span><span class="s">"primary"</span> <span class="na">full</span> <span class="na">type=</span><span class="s">"submit"</span>
                <span class="err">[</span><span class="na">disabled</span><span class="err">]="!</span><span class="na">beerForm</span><span class="err">.</span><span class="na">form</span><span class="err">.</span><span class="na">valid</span><span class="err">"</span><span class="nt">&gt;</span>Save<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/ion-col&gt;</span>
    <span class="nt">&lt;/ion-row&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/ion-content&gt;</span>
</code></pre>
</div>

<p>You’ll also need to modify <code class="highlighter-rouge">beer-service.ts</code> to have <code class="highlighter-rouge">get()</code> and <code class="highlighter-rouge">save()</code> methods.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="nx">get</span><span class="p">(</span><span class="nx">id</span><span class="err">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">BEER_API</span> <span class="o">+</span> <span class="s1">'/'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">response</span><span class="err">:</span> <span class="nx">Response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
<span class="p">}</span>

<span class="nx">save</span><span class="p">(</span><span class="nx">beer</span><span class="err">:</span> <span class="kr">any</span><span class="p">)</span><span class="err">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="na">result</span><span class="p">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Response</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">beer</span><span class="p">[</span><span class="s1">'href'</span><span class="p">])</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">beer</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span> <span class="nx">beer</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">BEER_API</span><span class="p">,</span> <span class="nx">beer</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="na">response</span><span class="p">:</span> <span class="nx">Response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">Observable</span><span class="p">.</span><span class="k">throw</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
<span class="p">}</span>
</code></pre>
</div>

<p>At this point, if you try to add or edit a beer name, you’ll likely see an error in your browser’s console.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Uncaught (in promise): Error: No component factory found for BeerModalPage.
Did you add it to @NgModule.entryComponents?
</code></pre>
</div>

<p>To fix this problem, add <code class="highlighter-rouge">BeerModalPage</code> to the <code class="highlighter-rouge">declarations</code> and <code class="highlighter-rouge">entryComponent</code> lists in <code class="highlighter-rouge">beer.module.ts</code>.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">BeerModalPage</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./beer-modal'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BeerPage</span><span class="p">,</span>
    <span class="nx">BeerModalPage</span>
  <span class="p">],</span>
  <span class="p">...</span>
  <span class="na">entryComponents</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BeerModalPage</span>
  <span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Now if you try to edit a beer’s name, you’ll see another CORS in your browser’s console. Add a <code class="highlighter-rouge">@CrossOrigin</code> annotation to <code class="highlighter-rouge">BeerRepository.java</code> (in your Spring Boot project) that matches the one in <code class="highlighter-rouge">BeerController</code>.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RepositoryRestResource</span>
<span class="nd">@CrossOrigin</span><span class="o">(</span><span class="n">origins</span> <span class="o">=</span> <span class="o">{</span><span class="s">"http://localhost:8100"</span><span class="o">,</span><span class="s">"file://"</span><span class="o">})</span>
</code></pre>
</div>

<p>Re-compile and now everything should work as expected. For example, below is a screenshot that shows I added a new beer and what it looks like when editing it.</p>

<p><img src="/assets/blog/ionic-spring-boot/beer-modal-eb516a421ed1335ce0a47d6f852fc5aa60806dd9a8f51f1f64babec0de07f240.png" alt="Mmmmm, Guinness" width="800" /></p>

<h3 id="add-swipe-to-delete">Add Swipe to Delete</h3>

<p>To add swipe-to-delete functionality on the list of beers, open <code class="highlighter-rouge">beer.html</code> and make it so <code class="highlighter-rouge">&lt;ion-item-sliding&gt;</code> wraps <code class="highlighter-rouge">&lt;ion-item&gt;</code> and contains the <code class="highlighter-rouge">*ngFor</code>. Add a delete button using <code class="highlighter-rouge">&lt;ion-item-options&gt;</code>.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;ion-content</span> <span class="na">padding</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ion-list&gt;</span>
    <span class="nt">&lt;ion-item-sliding</span> <span class="err">*</span><span class="na">ngFor=</span><span class="s">"let beer of beers"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ion-item</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">openModal</span><span class="err">({</span><span class="na">id:</span> <span class="na">beer</span><span class="err">.</span><span class="na">id</span><span class="err">})"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ion-avatar</span> <span class="na">item-left</span><span class="nt">&gt;</span>
          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{{beer.giphyUrl}}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/ion-avatar&gt;</span>
        <span class="nt">&lt;h2&gt;</span>{{beer.name}}<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;/ion-item&gt;</span>
      <span class="nt">&lt;ion-item-options&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">ion-button</span> <span class="na">color=</span><span class="s">"danger"</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">remove</span><span class="err">(</span><span class="na">beer</span><span class="err">)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ion-icon</span> <span class="na">name=</span><span class="s">"trash"</span><span class="nt">&gt;&lt;/ion-icon&gt;</span> Delete
        <span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/ion-item-options&gt;</span>
    <span class="nt">&lt;/ion-item-sliding&gt;</span>
  <span class="nt">&lt;/ion-list&gt;</span>
<span class="nt">&lt;/ion-content&gt;</span>
</code></pre>
</div>

<p>Add a <code class="highlighter-rouge">remove()</code> method to <code class="highlighter-rouge">beer.ts</code>.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="nx">remove</span><span class="p">(</span><span class="nx">beer</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">beerService</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">beer</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">beers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">beers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="nx">beer</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">beers</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">toast</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toastCtrl</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
          <span class="na">message</span><span class="p">:</span> <span class="s1">'Beer "'</span> <span class="o">+</span> <span class="nx">beer</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">'" deleted.'</span><span class="p">,</span>
          <span class="na">duration</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
          <span class="na">position</span><span class="p">:</span> <span class="s1">'top'</span>
        <span class="p">});</span>
        <span class="nx">toast</span><span class="p">.</span><span class="nx">present</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Add and import <code class="highlighter-rouge">ToastController</code> as a dependency in the constructor, so everything compiles.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">navCtrl</span><span class="err">:</span> <span class="nx">NavController</span><span class="p">,</span> <span class="k">public</span> <span class="nx">navParams</span><span class="err">:</span> <span class="nx">NavParams</span><span class="p">,</span>
          <span class="k">public</span> <span class="nx">beerService</span><span class="err">:</span> <span class="nx">BeerService</span><span class="p">,</span> <span class="k">public</span> <span class="nx">giphyService</span><span class="err">:</span> <span class="nx">GiphyService</span><span class="p">,</span>
          <span class="k">public</span> <span class="nx">modalCtrl</span><span class="err">:</span> <span class="nx">ModalController</span><span class="p">,</span> <span class="k">public</span> <span class="nx">toastCtrl</span><span class="err">:</span> <span class="nx">ToastController</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre>
</div>

<p>You’ll also need to modify <code class="highlighter-rouge">beer-service.ts</code> to have a <code class="highlighter-rouge">remove()</code> method.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="nx">remove</span><span class="p">(</span><span class="nx">id</span><span class="err">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">BEER_API</span> <span class="o">+</span> <span class="s1">'/'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">response</span><span class="err">:</span> <span class="nx">Response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
<span class="p">}</span>
</code></pre>
</div>

<p>After making these additions, you should be able to delete beer names. To emulate a left swipe in your browser, click on the item and drag it to the left.</p>

<p><img src="/assets/blog/ionic-spring-boot/beer-delete-47606c79fa81afbb866445c7cb2b1ca9c3074cbde87e44c4c5bd8560f7eee1d7.png" alt="Left swipe" width="512" /></p>

<h2 id="pwas-with-ionic">PWAs with Ionic</h2>

<p>Ionic ships with support for creating progressive web apps (PWAs). If you’d like to learn more about what PWAs are, see <a href="http://blog.ionic.io/navigating-the-world-of-progressive-web-apps-with-ionic-2/">Navigating the World of Progressive Web Apps with Ionic 2</a>. This blog post is still relevant for Ionic 3.</p>

<p>If you run the <a href="https://developers.google.com/web/tools/lighthouse/">Lighthouse Chrome extension</a> on this application, you’ll likely get a mediocre score in the 50s.</p>

<p><img src="/assets/blog/ionic-spring-boot/lighthouse-51-7f0306ed217ab55e97b818efd820da9ab6e00eaf0e7b21767dd20512d602081f.png" width="800" alt="blog/ionic-spring-boot/lighthouse-51.png" /></p>

<p>To register a service worker, and improve the app’s score, uncomment the following block in <code class="highlighter-rouge">src/index.html</code>.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- un-comment this code to enable service worker
&lt;script&gt;
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(() =&gt; console.log('service worker installed'))
    .catch(err =&gt; console.log('Error', err));
}
&lt;/script&gt;--&gt;</span>
</code></pre>
</div>

<p>After making this change, the score should improve. In my tests, it increased to 75/100. The remaining issues were:</p>

<ul>
  <li>A couple -1’s in performance for “Cannot read property ‘ts’ of undefined”</li>
  <li>Site is not progressively enhanced (page should contain some content when JavaScript is not available). You could likely solve this with <a href="https://www.npmjs.com/package/@angular/app-shell">Angular’s app-shell directives</a></li>
  <li>Site is not on HTTPS and does not redirect HTTP to HTTPS</li>
</ul>

<p>If you refresh the app and Chrome doesn’t prompt you to install the app (a PWA feature), you probably need to turn on a couple of features. Copy and paste the following URLs into Chrome and enable each feature.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chrome://flags/#bypass-app-banner-engagement-checks
chrome://flags/#enable-add-to-shelf
</code></pre>
</div>

<p>After enabling these flags, you’ll see an error in your browser’s console about <code class="highlighter-rouge">src/assets/imgs/logo.png</code> not being found. This file is referenced in <code class="highlighter-rouge">src/manifest.json</code>. You can fix this by copying a 512x512 PNG (<a href="http://www.iconsdb.com/orange-icons/beer-icon.html">like this one</a>) into this location or by modifying <code class="highlighter-rouge">src/manifest.json</code> accordingly. At the very least, you should modify <code class="highlighter-rouge">src/manifest.json</code> to have your app’s name.</p>

<h2 id="deploy-to-a-mobile-device">Deploy to a Mobile Device</h2>

<p>It’s pretty cool that you’re able to develop mobile apps with Ionic in your browser. However, it’s nice to see the fruits of your labor and see how awesome your app looks on a phone. It really does look and behave like a native app!</p>

<p>To see how your application will look on different devices you can run <code class="highlighter-rouge">ionic serve --lab</code>. The <code class="highlighter-rouge">--lab</code> flag opens a page in your browser that lets you see how your app looks on different devices.</p>

<p><img src="/assets/blog/ionic-spring-boot/ionic-labs-689702b85477e7e52dd00db24153418b70feb4ac562424d7231f30c38f000a99.png" alt="Ionic Labs" width="800" /></p>

<h3 id="ios">iOS</h3>

<p>To emulate or deploy to an iOS device, you’ll need a Mac and a fresh installation of <a href="https://developer.apple.com/xcode/">Xcode</a>. If you’d like to build iOS apps on Windows, Ionic offers an <a href="http://ionic.io/cloud#packaging">Ionic Package</a> service.</p>

<p><strong>Make sure to open Xcode to complete the installation.</strong> Then run <code class="highlighter-rouge">ionic cordova emulate ios</code> to open your app in Simulator.</p>

<p><strong>TIP:</strong> The biggest problem I found when running the app in Simulator was that it was difficult to get the keyboard to popup. To workaround this, I used <strong>Hardware</strong> &gt; <strong>Keyboard</strong> &gt; <strong>Toggle Software Keyboard</strong> when I needed to type text in a field.</p>

<p>Deploying to your phone will likely fail because it won’t be able to connect to <code class="highlighter-rouge">http://localhost:8080</code>. To fix this, you can deploy your Spring Boot app to a public server, or use your computer’s IP address in <code class="highlighter-rouge">beer.service.ts</code> (if you’re on the same wireless network).</p>

<p>To deploy to Cloud Foundry, copy <a href="https://github.com/oktadeveloper/spring-boot-ionic-example/blob/master/deploy.sh">this deploy.sh script</a> to your hard drive. It expects to be in a directory above your apps (e.g. <code class="highlighter-rouge">spring-boot-ionic-example</code>). It also expects your apps to be named <code class="highlighter-rouge">ionic-beer</code> and <code class="highlighter-rouge">server</code>.</p>

<p>If you don’t have a Cloud Foundry account, you’ll need to <a href="https://account.run.pivotal.io/z/uaa/sign-up">create one</a>. Then install its command line tools (and login) for this script to work.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>brew tap cloudfoundry/tap <span class="o">&amp;&amp;</span> brew install cf-cli
cf login -a api.run.pivotal.io
</code></pre>
</div>

<p>After logging into Cloud Foundry, you should be able to run <code class="highlighter-rouge">./deploy.sh</code>. This script will deploy the server and modify <code class="highlighter-rouge">beer.service.ts</code> to point to it. It will also try to deploy to your phone, so you may need to complete the steps below before it will work.</p>

<p>To deploy the app to an iPhone, start by plugging it into your computer. Then run the following commands to install ios-deploy/ios-sim, build the app, and run it on your device.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install -g ios-deploy ios-sim
ionic cordova build ios --prod
open platforms/ios/MyApp.xcodeproj
</code></pre>
</div>

<p>Select your phone as the target in Xcode and click the play button to run your app. The first time you do this, Xcode may spin for a while with a “Processing symbol files” message at the top.</p>

<p><strong>NOTE:</strong> If you run into code signing issues, see <a href="http://ionicframework.com/docs/intro/deploying/#ios-devices">Ionic’s deployment documentation</a> to see how to solve.</p>

<p>Once you’ve configured your phone, computer, and Apple ID to work, you should be able to open the app and see the beer list you created. Below is how it looks on my iPhone 6s Plus.</p>

<p><img src="/assets/blog/ionic-spring-boot/iphone-beer-list-bc77d973cf975064c628d7c34b28d717f60a23b19757eae87e494f2bc9b2f95e.jpg" alt="Phone Beer List" width="500" /></p>

<h3 id="android">Android</h3>

<p>To emulate or deploy to an Android device, you’ll first need to install <a href="https://developer.android.com/studio/index.html">Android Studio</a>. As part of the install, it will show you where it installed the Android SDK. Set this path as an ANDROID_HOME environment variable. On a Mac, it should be <code class="highlighter-rouge">~/Library/Android/sdk/</code>.</p>

<p><strong>If you’ve just installed Android Studio, make sure to open it to complete the installation.</strong></p>

<p>To deploy to the Android emulator, run <code class="highlighter-rouge">ionic cordova emulate android</code>. This will install Andorid support and print out instructions about how to create an emulator image.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Error: No emulator images (avds) found.
1. Download desired System Image by running:
/Users/mraible/Library/Android/sdk/tools/android sdk
2. Create an AVD by running: /Users/mraible/Library/Android/sdk/tools/android avd
HINT: For a faster emulator, use an Intel System Image and install the HAXM device driver
</code></pre>
</div>

<p>Run the first suggestion and download your desired system image. Then run the second command and created an AVD (Android Virtual Device) with the following settings:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>AVD Name: TestPhone
Device: Nexus 5
Target: Android 7.1.1
CPU/ABI: Google APIs Intel Axom (x86_64)
Skin: Skin with dynamic hardware controls
</code></pre>
</div>

<p><strong>WARNING:</strong> These instructions won’t work with version 2.3.2 of Android Studio on Mac. When you try to run the first command, it’ll say the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>*************************************************************************
The "android" command is deprecated.
For manual SDK, AVD, and project management, please use Android Studio.
For command-line tools, use tools/bin/sdkmanager and tools/bin/avdmanager
*************************************************************************
</code></pre>
</div>

<p>To solve this problem, open Android Studio, select “Open an existing Android Studio project” and select the <code class="highlighter-rouge">ionic-beer/platforms/android</code> directory. If prompted to upgrade, choose “OK”, then proceed to create a new AVD as <a href="https://developer.android.com/studio/run/managing-avds.html#createavd">described in Android Studio’s documentation</a>.</p>

<p>After performing these steps, you should be able to run <code class="highlighter-rouge">ionic cordova emulate android</code> and see your app running in the AVD.</p>

<p><img src="/assets/blog/ionic-spring-boot/android-beer-list-89882cfa6fb9f2fc8b34b486be59cbfdac142c12fb3d3f8d691f97e6428060d5.png" alt="Android Beer List" width="540" /></p>

<p><strong>NOTE</strong>: If you get an application error that says “The connection to the server was unsuccessful. (<code class="highlighter-rouge">file:///android/www/index.html</code>)”, add the following line to <code class="highlighter-rouge">config.xml</code>. This sets the default timeout to 60 seconds (default is 20). Thanks to <a href="http://stackoverflow.com/a/31377846">Stack Overflow</a> for the answer.</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">"loadUrlTimeoutValue"</span> <span class="na">value=</span><span class="s">"60000"</span><span class="nt">/&gt;</span>
</code></pre>
</div>

<h2 id="learn-more">Learn More</h2>

<p>I hope you’ve enjoyed this tour of Ionic and Angular. I like how Ionic takes your web development skills up a notch and allows you to create mobile applications that look and behave natively.</p>

<p>You can find a completed version of the application created in this blog post <a href="https://github.com/oktadeveloper/spring-boot-ionic-example">on GitHub</a>. If you encountered issues, please <a href="https://github.com/oktadeveloper/spring-boot-ionic-example/issues/new">create an issue in GitHub</a> or hit me up on Twitter <a href="https://twitter.com/mraible">@mraible</a>.</p>

<p>To learn more about Ionic and Angular, please see the following resources:</p>

<ul>
  <li><a href="http://ionicframework.com/getting-started/">Get started with Ionic Framework</a></li>
  <li><a href="/blog/2017/05/09/progressive-web-applications-with-angular-and-spring-boot">Build Your First Progressive Web Application with Angular and Spring Boot</a></li>
  <li><a href="/blog/2017/04/26/bootiful-development-with-spring-boot-and-angular">Bootiful Development with Spring Boot and Angular</a></li>
  <li><a href="/blog/2017/04/17/angular-authentication-with-oidc">Angular Authentication with OpenID Connect and Okta in 20 Minutes</a></li>
</ul>


	    </section>
	  </article>
  </div>
</section>

	</div>
</section>

		
	</div><footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/blog/">Blog</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank"><i class="fa fa-comments"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script type="text/javascript" src="/assets/master-d164e3cb90ad42ea74c141546269db0efdbc2259b7d44b7f52babb60097099a8.js"></script>
    
    
    
    
    <!-- Remarketing tag -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1006913831;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <div style="display:none;">
      <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script>
    </div>
    <noscript>
      <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0">
      </div>
    </noscript>
    <!-- End Remarketing tag -->
    <!-- Crazy Egg Tracking -->
    <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script>
    <!-- End Crazy Egg Tracking -->

</body>
</html>
