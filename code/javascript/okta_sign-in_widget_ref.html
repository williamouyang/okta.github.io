<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-cdb1b544ae0f29a9e4d8c0bcbe55984903ad1378a9da805143cb56984ce2fa57.css">
  
  
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <title>Okta Sign-In Widget Reference | Okta Developer</title>
  <meta name="description" content="Reference information for customizing the Okta Sign-In Widget.">
  <link rel="canonical" href="https://developer.okta.com/code/javascript/okta_sign-in_widget_ref">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
</head>

<body>
  <div class="Page okta-sign-in-widget-reference">
    <!-- START Header -->
    <header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://www.okta.com/developer/signup" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="stack-overflow">Post your question on <a href="http://stackoverflow.com/search?q=okta" target="_blank">Stack Overflow</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header><!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>
      if (isProduction) {
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-TJ45R6');
      }
    </script> <!-- End Google Tag Manager -->
     <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
        <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
        <div class="Sidebar-close Sidebar-toggle"></div>
        <div>
          <h3 class="Sidebar-title">Use Cases</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/use_cases/authentication">Authentication</a>
            </li>
            <li>
              <a href="/use_cases/mfa">Multi-Factor Authentication</a>
            </li>
            <li>
              <a href="/use_cases/api_access_management">API Access Management</a>
            </li>
            <li>
              <a href="/use_cases/integrate_with_okta">Integrate with Okta</a>
            </li>
          </ul>
          <h3 class="Sidebar-title">Reference</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
            </li>
            <li>
              <a href="/docs/api/resources/authn.html">Authentication Reference</a>
            </li>
            <li>
              <a href="/docs/api/resources/apps.html">API Reference</a>
            </li>
            <li>
              <a href="/reference/error_codes">Error Codes</a>
            </li>
            <li>
              <a href="/reference/okta_expression_language">Okta Expression Language</a>
            </li>
            <li>
              <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
            </li>
          </ul>

          <h3 class="Sidebar-title">Standards</h3>
          <ul class="Sidebar-nav">
            
            
            
            <li>
              <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/OIDC/">OpenID Connect and Okta</a>
            </li>
            
            
            
            <li>
              <a href="/standards/SAML/">SAML</a>
            </li>
            
            
            
            
            <li>
              <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
            </li>
            
          </ul>
          <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
          </script>
        </div>
      </aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/master/_source/_code/javascript/okta_sign-in_widget_ref.md">Edit Page</a>
      <h1 id="overview">Overview</h1>

<p>This page contains detailed reference information you can use to customize your Okta sign-in widget.
Basic instructions for creating a sign-in widget are available in <a href="./okta_sign-in_widget.html">Okta Sign-In Widget</a>.</p>

<p>Prerequisites from the basic guide include:</p>

<ul>
  <li>Use <a href="https://support.okta.com/help/articles/Knowledge_Article/24532952-Platforms---Browser-and-OS-Support">a supported browser</a>.</li>
  <li><a href="./okta_sign-in_widget.html#creating-an-okta-organization">Create an Okta Developer Edition org</a> if you don’t already have one.</li>
  <li><a href="/docs/api/getting_started/enabling_cors.html">Configure your Okta org to support CORS</a> before testing the Okta Sign-In Widget.</li>
</ul>

<h3 id="example-of-a-customized-sign-in-widget">Example of a Customized Sign-In Widget</h3>

<blockquote>
  <p>The Okta Sign-In Widget documentation uses the <code class="highlighter-rouge">acme.com</code> domain name. Other Okta developer content may use <code class="highlighter-rouge">your-domain.com</code>.</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">// Initialize</span>
<span class="kd">var</span> <span class="nx">oktaSignIn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OktaSignIn</span><span class="p">({</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'https://acme.okta.com'</span><span class="p">,</span>
  <span class="na">features</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">rememberMe</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">smsRecovery</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">multiOptionalFactorEnroll</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="na">labels</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'primaryauth.title'</span><span class="p">:</span> <span class="s1">'Partner Sign-In'</span><span class="p">,</span>
    <span class="s1">'help'</span><span class="p">:</span> <span class="s1">'Click here for more help'</span>
  <span class="p">},</span>
  <span class="na">transformUsername</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">suffix</span> <span class="o">=</span> <span class="s1">'@acme.com'</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">username</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">suffix</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">?</span> <span class="nx">username</span> <span class="p">:</span> <span class="p">(</span><span class="nx">username</span> <span class="o">+</span> <span class="nx">suffix</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Render the widget if there is no active session</span>
<span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">exists</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">exists</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">exists</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// showHomePage();</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Show the sign-in widget</span>
  <span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">renderEl</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">el</span><span class="p">:</span> <span class="s1">'#okta-login-container'</span> <span class="p">},</span>
    <span class="c1">// Success callback (invoked on successful authentication)</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'SUCCESS'</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// showHomePageForUser(res.user);</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="c1">// Failure callback (invoked if the authentication is unsuccessful</span>
    <span class="c1">// or if there is a failure on authentication)</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// handleErrors(err);</span>
    <span class="p">}</span>
  <span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>

<h2 id="configuration-options">Configuration Options</h2>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">baseUrl</code></td>
      <td>The base URL for your Okta organization. (e.g., <code class="highlighter-rouge">https://acme.okta.com</code>, <code class="highlighter-rouge">https://acme.oktapreview.com</code> or <code class="highlighter-rouge">https://acme.okta-emea.com</code>).</td>
      <td>String</td>
      <td>Yes</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">recoveryToken</code></td>
      <td>Bootstraps the widget in the recovery flow (e.g., Unlock Account or Forgot Password).</td>
      <td>String</td>
      <td>No</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">logo</code></td>
      <td>Url of the logo image that shows up at the top of the widget (e.g. <code class="highlighter-rouge">https://acme.com/assets/logo/acme-logo.png</code>).</td>
      <td>String</td>
      <td>No</td>
      <td><code class="highlighter-rouge">Okta logo</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">helpSupportNumber</code></td>
      <td>Support phone number that shows up in the Password Reset flow (if the user clicks on <code class="highlighter-rouge">Can't access email</code>) and in the Unlock Account flow.</td>
      <td>String</td>
      <td>No</td>
      <td><code class="highlighter-rouge">Okta logo</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">username</code></td>
      <td>Bootstraps the widget with a username i.e., pre-fill the username in the widget.</td>
      <td>String</td>
      <td>No</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">transformUsername</code></td>
      <td>Transforms the username before sending the request. The function is passed the username and the operation as parameters. <a href="#transformusername-example">Example</a></td>
      <td>Function</td>
      <td>No</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">features</code></td>
      <td>Options to enable or disable a feature in the widget. <a href="#features-options">Option list</a> <a href="#features-example">Example</a></td>
      <td>Object</td>
      <td>No</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">helpLinks</code></td>
      <td>Options to configure alternate help links in the widget. <a href="#helplinks-options">Option list</a> <a href="#helplinks-example">Example</a></td>
      <td>Object</td>
      <td>No</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">labels</code></td>
      <td>Options to localize labels in the widget. <a href="#labels-options">Option list</a></td>
      <td>Object</td>
      <td>No</td>
      <td>None</td>
    </tr>
  </tbody>
</table>

<h3 id="configuration-examples-and-option-details">Configuration Examples and Option Details</h3>

<p>The following sections provide examples and option details for the last four configuration options.</p>

<h4 id="transformusername-example">transformUsername Example</h4>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>    <span class="nx">transformUsername</span><span class="err">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="nx">op</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">suffix</span> <span class="o">=</span> <span class="s1">'@acme.com'</span><span class="p">;</span>

      <span class="c1">// op can be PRIMARY_AUTH, FORGOT_PASSWORD or UNLOCK_ACCOUNT</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">contains</span><span class="p">([</span><span class="s1">'FORGOT_PASSWORD'</span><span class="p">,</span> <span class="s1">'UNLOCK_ACCOUNT'</span><span class="p">],</span> <span class="nx">op</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="nx">username</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">suffix</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">?</span> <span class="nx">username</span> <span class="p">:</span> <span class="p">(</span><span class="nx">username</span> <span class="o">+</span> <span class="nx">suffix</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
</code></pre>
</div>

<p>The code above ensures that in case the current user clicked on the ‘Forgot Password’ or ‘Unlock account’ link, the Sign-In Widget only proceeds with the requested operation if the user provided a username that ends with <code class="highlighter-rouge">@acme.com</code>. Otherwise, the Sign-In Widget automatically appends <code class="highlighter-rouge">@acme.com</code> to the provided user name.</p>

<h4 id="features-example">features Example</h4>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>    <span class="nx">features</span><span class="err">:</span> <span class="p">{</span>
      <span class="nl">rememberMe</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">selfServiceUnlock</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">multiOptionalFactorEnroll</span><span class="err">:</span> <span class="kc">true</span>
    <span class="p">}</span>
</code></pre>
</div>

<h4 id="features-options">features Options</h4>

<p>Enable or disable widget functionality with the following options for <code class="highlighter-rouge">features</code>:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">rememberMe</code> <code class="highlighter-rouge">(default: true)</code>
Display a checkbox to enable “Remember me” functionality at login.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">autoPush</code> <code class="highlighter-rouge">(default: false)</code>
    Display a checkbox to enable “Send push automatically” functionality in the MFA required flow.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">smsRecovery</code> <code class="highlighter-rouge">(default: false)</code>
Allow users with a configured mobile phone number to recover their password using an SMS message.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">callRecovery</code> <code class="highlighter-rouge">(default: false)</code>
Allow users with a configured mobile phone number to recover their password using a voice call.
Note: This option is only available with version 1.6.0 and later of the Sign-In Widget.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">selfServiceUnlock</code> <code class="highlighter-rouge">(default: false)</code>
Display the “Unlock Account” link to allow users to unlock their accounts.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">multiOptionalFactorEnroll</code> <code class="highlighter-rouge">(default: false)</code>
Allow users the option to enroll in multiple optional factors.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">router</code> <code class="highlighter-rouge">(default: false)</code>
Update the browser location bar with a route on navigation.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">windowsVerify</code> <code class="highlighter-rouge">(default: false)</code>
When enrolling Okta Verify and if set to <code class="highlighter-rouge">true</code>, this option specifies whether the Sign-In Widget shows the Windows phone icon and instructions.</p>
  </li>
</ul>

<h4 id="helplinks-example">helpLinks Example</h4>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>    <span class="nx">helpLinks</span><span class="err">:</span> <span class="p">{</span>
      <span class="nl">help</span><span class="p">:</span> <span class="s1">'https://acme.com/custom/help'</span><span class="p">,</span>
      <span class="nx">forgotPassword</span><span class="err">:</span> <span class="s1">'https://acme.com/custom/forgotpassword'</span><span class="p">,</span>
      <span class="nx">unlock</span><span class="err">:</span> <span class="s1">'https://acme.com/custom/unlock'</span><span class="p">,</span>
      <span class="nx">custom</span><span class="err">:</span> <span class="p">[{</span>
        <span class="na">text</span><span class="p">:</span> <span class="s1">'Acme IT Support Page'</span><span class="p">,</span>
        <span class="na">href</span><span class="p">:</span> <span class="s1">'https://acme.com/custom/itsupport'</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">text</span><span class="p">:</span> <span class="s1">'About Acme'</span><span class="p">,</span>
        <span class="na">href</span><span class="p">:</span> <span class="s1">'https://acme.com/custom/about'</span>
      <span class="p">}]</span>
    <span class="p">}</span>
</code></pre>
</div>

<h4 id="helplinks-options">helpLinks Options</h4>

<p>Enable help links with the following options:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">help</code>
 Custom link <code class="highlighter-rouge">href</code> for the ‘Help’ link.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">forgotPassword</code>
 Custom link <code class="highlighter-rouge">href</code> for the ‘Forgot Password’ link.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">unlock</code>
 Custom link <code class="highlighter-rouge">href</code> for the ‘Unlock Account’ link.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">custom</code>
 Array of custom link objects. Each custom link object must have <code class="highlighter-rouge">text</code> and <code class="highlighter-rouge">href</code> properties.</p>
  </li>
</ul>

<h4 id="labels-options">labels Options</h4>

<p>The full list of labels are in these two files:</p>

<ul>
  <li><a href="https://github.com/okta/okta-signin-widget/blob/master/node_modules/%40okta/i18n/dist/properties/login.properties">Login Properties</a></li>
  <li><a href="https://github.com/okta/okta-signin-widget/blob/master/node_modules/%40okta/i18n/dist/properties/country.properties">Country Properties</a></li>
</ul>

<p>The following labels are among the most frequently used:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">primaryauth.title</code>
 Title for your widget page.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">primaryauth.username</code>
 Label for the username box.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">primaryauth.username.tooltip</code>
 The tooltip that appears when the user hovers over the username box.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">primaryauth.password</code>
 Label for the password box.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">primaryauth.password.tooltip</code>
 The tooltip that appears when the user hovers over the password box.</p>
  </li>
</ul>

<p>Some labels contain “Okta.” You may want to supply a different value for those labels.</p>

<h2 id="openid-connect-oauth-20-and-social-integrations">OpenID Connect, OAuth 2.0 and Social Integrations</h2>

<p>The Okta Sign-In Widget provides built-in support for <a href="http://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect</a> and <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0</a>, particularly with the <a href="http://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth">Implicit Flow</a> for single-page web applications and the <a href="http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth">Authorization Code Flow</a> for  traditional server web applications.</p>

<p>More information is available for Okta support of <a href="/docs/api/resources/oidc.html#request-parameters">OpenID Connect</a> and <a href="/docs/api/resources/oauth2.html">OAuth 2.0</a>.</p>

<p>For OpenID Connect and OAuth setup instructions, please take a look at these <a href="https://github.com/oktadeveloper/okta-oauth-spa-authjs-osw/blob/master/Okta-OIDC_SPA_JS-OSW_DevSetupGuide.pdf">setup instructions</a>.</p>

<p>A working <a href="https://github.com/oktadeveloper/okta-oauth-spa-authjs-osw">OpenID Connect sample with the Okta Sign-In Widget</a> can also be found on GitHub.</p>

<p>The Okta Sign-In Widget also provides support for social authentication, which is built on top of OpenID Connect and OAuth 2.0. For social authentication setup instructions, please refer to <a href="/docs/api/resources/social_authentication.html">Social Authentication</a>. Please see below for configuration details for social authentication.</p>

<h4 id="example-openid-connect-configuration">Example OpenID Connect configuration</h4>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">oktaSignIn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OktaSignIn</span><span class="p">({</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'https://acme.okta.com'</span><span class="p">,</span>
  <span class="c1">// OpenID Connect options</span>
  <span class="na">clientId</span><span class="p">:</span> <span class="s1">'GHtf9iJdr60A9IYrR0jw'</span><span class="p">,</span>
  <span class="na">redirectUri</span><span class="p">:</span> <span class="s1">'https://acme.com/oauth2/callback/home'</span><span class="p">,</span>
  <span class="na">authParams</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">responseType</span><span class="p">:</span> <span class="s1">'id_token'</span><span class="p">,</span>
    <span class="na">responseMode</span><span class="p">:</span> <span class="s1">'okta_post_message'</span><span class="p">,</span>
    <span class="na">scope</span><span class="p">:</span> <span class="p">[</span>
      <span class="s1">'openid'</span><span class="p">,</span>
      <span class="s1">'email'</span><span class="p">,</span>
      <span class="s1">'profile'</span><span class="p">,</span>
      <span class="s1">'address'</span><span class="p">,</span>
      <span class="s1">'phone'</span><span class="p">,</span>
      <span class="s1">'groups'</span>
    <span class="p">]</span>
  <span class="p">}</span>
  <span class="p">});</span>

<span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">renderEl</span><span class="p">({</span>
    <span class="na">el</span><span class="p">:</span> <span class="s1">'#sign-in-container'</span>
  <span class="p">},</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// res.idToken - id_token generated</span>
    <span class="c1">// res.claims - decoded id_token information</span>
  <span class="p">},</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handleErrors(err);</span>
  <span class="p">});</span>
</code></pre>
</div>

<h4 id="openid-connect-parameters">OpenID Connect Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">clientId</code></td>
      <td><a href="/docs/api/resources/oauth-clients.html#client-application-properties">Client Id</a> pre-registered with Okta for OIDC authentication flow.</td>
      <td>String</td>
      <td>Yes</td>
      <td>None</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">redirectUri</code></td>
      <td>Callback location to send the authorization code to. This must be pre-registered as part of client registration.</td>
      <td>String</td>
      <td>Yes</td>
      <td><code class="highlighter-rouge">window.location.href</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">oAuthTimeout</code></td>
      <td>Timeout for OIDC authentication flow requests.</td>
      <td>Number</td>
      <td>No</td>
      <td><code class="highlighter-rouge">120000</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">authParams</code></td>
      <td>Authentication parameters for OIDC. <a href="#authParams-parameters">List</a></td>
      <td>See <a href="#authParams-parameters">List</a></td>
      <td>See <a href="#authParams-parameters">List</a></td>
      <td>See <a href="#authParams-parameters">List</a></td>
    </tr>
  </tbody>
</table>

<p>Reminder: You can find the client ID and redirect URI for an app in the Okta Admin user interface:</p>

<ol>
  <li>From the top navigation bar, select <strong>Applications</strong> &gt; <strong>Applications</strong>:</li>
  <li>Select an application and choose <strong>General</strong>.</li>
  <li>The client ID is listed in the <strong>Client Credentials</strong> pane; the redirect URI is listed in the <strong>General Settings</strong> pane.</li>
</ol>

<h5 id="authparams-parameters">authParams parameters</h5>

<p>You can use any of the following parameters for <code class="highlighter-rouge">authParams</code>.</p>

<table>
  <thead>
    <tr>
      <th>authParams Parameter</th>
      <th>Description</th>
      <th>Type</th>
      <th>Required</th>
      <th>Default</th>
      <th>Valid Values</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">display</code></td>
      <td>Specify how to display the authentication UI.</td>
      <td>String</td>
      <td>No</td>
      <td><code class="highlighter-rouge">none</code> (for Okta) and <code class="highlighter-rouge">popup</code> (External IdP such as social)</td>
      <td><code class="highlighter-rouge">none</code>, <code class="highlighter-rouge">popup</code>, <code class="highlighter-rouge">page</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">responseMode</code></td>
      <td>Specify how the authorization response should be returned.</td>
      <td>String</td>
      <td>Yes</td>
      <td><code class="highlighter-rouge">okta_post_message</code></td>
      <td><code class="highlighter-rouge">query</code>, <code class="highlighter-rouge">fragment</code>, <code class="highlighter-rouge">form_post</code>, <code class="highlighter-rouge">okta_post_message</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">responseType</code></td>
      <td>Specify the response type for OpenID Connect authentication. The authorization code returned can later be exchanged for Access token or Refresh token.</td>
      <td>String</td>
      <td>Yes</td>
      <td><code class="highlighter-rouge">id_token</code></td>
      <td><code class="highlighter-rouge">id_token</code>, <code class="highlighter-rouge">code</code> (starting from v1.7.0)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">scope</code></td>
      <td>Specify what information to make available in the <code class="highlighter-rouge">id_token</code>. <code class="highlighter-rouge">openid</code> is required.</td>
      <td>Array</td>
      <td>Yes</td>
      <td><code class="highlighter-rouge">['openid', 'email']</code></td>
      <td><code class="highlighter-rouge">openid</code>, <code class="highlighter-rouge">email</code>, <code class="highlighter-rouge">profile</code>, <code class="highlighter-rouge">address</code>, <code class="highlighter-rouge">phone</code>, <code class="highlighter-rouge">groups</code> (maps to groups claim configured in the Authorization Server tab)</td>
    </tr>
  </tbody>
</table>

<h3 id="social-authentication-providers-options">Social Authentication Providers Options</h3>

<p>Social authentication with social identity providers (such as Facebook, Linked and Google) is supported by Okta and requires OpenID Connect and OAuth configuration parameters as specified in the previous section. For Social Authentication setup instructions, please refer to <a href="/docs/api/resources/social_authentication.html">Social Authentication</a>.</p>

<h4 id="example-social-authentication-configuration">Example Social Authentication configuration</h4>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">oktaSignIn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OktaSignIn</span><span class="p">({</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'https://acme.okta.com'</span><span class="p">,</span>
  <span class="c1">// OpenID Connect options</span>
  <span class="na">clientId</span><span class="p">:</span> <span class="s1">'GHtf9iJdr60A9IYrR0jw'</span><span class="p">,</span>
  <span class="na">redirectUri</span><span class="p">:</span> <span class="s1">'https://acme.com/oauth2/callback/home'</span><span class="p">,</span>
  <span class="na">authParams</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">responseType</span><span class="p">:</span> <span class="s1">'id_token'</span><span class="p">,</span>
    <span class="na">responseMode</span><span class="p">:</span> <span class="s1">'okta_post_message'</span><span class="p">,</span>
    <span class="na">scope</span><span class="p">:</span> <span class="p">[</span>
      <span class="s1">'openid'</span><span class="p">,</span>
      <span class="s1">'email'</span><span class="p">,</span>
      <span class="s1">'profile'</span><span class="p">,</span>
      <span class="s1">'address'</span><span class="p">,</span>
      <span class="s1">'phone'</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="na">idpDisplay</span><span class="p">:</span> <span class="s1">'PRIMARY'</span><span class="p">,</span>
  <span class="na">idps</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'GOOGLE'</span><span class="p">,</span>
    <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'0oaaix1twko0jyKik0g4'</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'FACEBOOK'</span><span class="p">,</span>
    <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'0oar25ZnMM5LrpY1O0g3'</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'LINKEDIN'</span><span class="p">,</span>
    <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'0oaaix1twko0jyKik0g4'</span>
  <span class="p">}]</span>
<span class="p">});</span>

<span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">renderEl</span><span class="p">({</span>
    <span class="na">el</span><span class="p">:</span> <span class="s1">'#sign-in-container'</span>
  <span class="p">},</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// res.idToken - id_token generated</span>
    <span class="c1">// res.claims - decoded id_token information</span>
  <span class="p">},</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handleErrors(err);</span>
  <span class="p">});</span>
</code></pre>
</div>

<h4 id="social-authentication-parameters">Social Authentication Parameters</h4>

<p>In addition to the <a href="#openid-connect-parameters">OpenID Connect/OAuth parameters</a>, additional parameters are necessary for social authentication:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">idps</code></td>
      <td>External Identity Providers to use in OIDC authentication. Supported Identity providers - <code class="highlighter-rouge">GOOGLE</code>, <code class="highlighter-rouge">FACEBOOK</code> and <code class="highlighter-rouge">LINKEDIN</code>. Each IdP needs to be passed an object with <code class="highlighter-rouge">id</code> and <code class="highlighter-rouge">type</code>.</td>
      <td>Array</td>
      <td>No</td>
      <td><code class="highlighter-rouge">[]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">idpDisplay</code></td>
      <td>Display order for External Identity providers. <code class="highlighter-rouge">PRIMARY</code> to display external IdPs as primary, and <code class="highlighter-rouge">SECONDARY</code> to display Okta as the primary IdP.</td>
      <td>String</td>
      <td>No</td>
      <td><code class="highlighter-rouge">SECONDARY</code></td>
    </tr>
  </tbody>
</table>

<h2 id="public-functions">Public functions</h2>

<h3 id="render-the-widget">Render the widget</h3>

<p><code class="highlighter-rouge">.renderEl()</code></p>

<p>Render function for the sign-in widget. The function must be called with an <code class="highlighter-rouge">options</code> object containing any of the configuration options, a <code class="highlighter-rouge">success</code> callback function and a <code class="highlighter-rouge">failure</code> callback function.
The options object must have an <code class="highlighter-rouge">el</code> property, usually an HTML DOM element <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">selector</code>, which becomes the container element for the widget DOM.</p>

<h4 id="example">Example</h4>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">oktaSignIn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OktaSignIn</span><span class="p">({</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'https://acme.okta.com'</span>
<span class="p">});</span>

<span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">renderEl</span><span class="p">({</span>
    <span class="na">el</span><span class="p">:</span> <span class="s1">'#sign-in-container'</span><span class="p">,</span>
    <span class="na">labels</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'primaryauth.title'</span><span class="p">:</span> <span class="s1">'Partner login'</span><span class="p">,</span>
      <span class="s1">'help'</span><span class="p">:</span> <span class="s1">'Click here for more help'</span>
    <span class="p">},</span>
    <span class="na">helpLinks</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'help'</span><span class="p">:</span> <span class="s1">'https://acme.com/custom/help'</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="kd">function</span> <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// The properties in the response object depend on two factors:</span>
    <span class="c1">// 1. The type of authentication flow that has just completed, determined by res.status</span>
    <span class="c1">// 2. What type of token the widget is returning</span>

    <span class="c1">// The user has started the password recovery flow, and is on the confirmation</span>
    <span class="c1">// screen letting them know that an email is on the way.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'FORGOT_PASSWORD_EMAIL_SENT'</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Any followup action you want to take</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// The user has started the unlock account flow, and is on the confirmation</span>
    <span class="c1">// screen letting them know that an email is on the way.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'UNLOCK_ACCOUNT_EMAIL_SENT'</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Any followup action you want to take</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// The user has successfully completed the authentication flow</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'SUCCESS'</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// If the widget is not configured for OIDC, the response will contain</span>
      <span class="c1">// user metadata and a sessionToken that can be converted to an Okta</span>
      <span class="c1">// session cookie:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">user</span><span class="p">);</span>
      <span class="nx">res</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">setCookieAndRedirect</span><span class="p">(</span><span class="s1">'https://acme.com/app'</span><span class="p">);</span>

      <span class="c1">// If the widget is configured for OIDC with a single responseType, the</span>
      <span class="c1">// response will be the token.</span>
      <span class="c1">// i.e. authParams.responseType = 'id_token':</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">claims</span><span class="p">);</span>
      <span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">tokenManager</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'my_id_token'</span><span class="p">,</span> <span class="nx">res</span><span class="p">);</span>

      <span class="c1">// If the widget is configured for OIDC with multiple responseTypes, the</span>
      <span class="c1">// response will be an array of tokens:</span>
      <span class="c1">// i.e. authParams.responseType = ['id_token', 'token']</span>
      <span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">tokenManager</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'my_id_token'</span><span class="p">,</span> <span class="nx">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
      <span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">tokenManager</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'my_access_token'</span><span class="p">,</span> <span class="nx">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="p">},</span>

  <span class="kd">function</span> <span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// The widget will handle most types of errors - for example, if the user</span>
    <span class="c1">// enters an invalid password or there are issues authenticating.</span>
    <span class="c1">//</span>
    <span class="c1">// This function is invoked with errors the widget cannot recover from:</span>
    <span class="c1">// 1. Known errors: CONFIG_ERROR, UNSUPPORTED_BROWSER_ERROR, OAUTH_ERROR</span>
    <span class="c1">// 2. Uncaught exceptions</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>options</td>
      <td>Object</td>
      <td>Yes</td>
      <td>Configuration options for the widget. <code class="highlighter-rouge">el</code> is required.</td>
    </tr>
    <tr>
      <td>successCallback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Success callback to invoke on successful authentication.</td>
    </tr>
    <tr>
      <td>failureCallback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Failure callback to invoke on unsuccessful authentication.</td>
    </tr>
  </tbody>
</table>

<h2 id="session-management">Session Management</h2>

<p>Manage your Okta session with session functions in the Sign-in widget SDK.</p>

<h3 id="check-for-an-existing-session">Check for an existing session</h3>

<p><code class="highlighter-rouge">.session.exists()</code></p>

<p>Check if there is an active session.</p>

<h5 id="example-1">Example</h5>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">exists</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">exists</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">exists</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// There is an active session</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// No active session found</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters-1">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>callback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Callback function. The function is passed a boolean value.</td>
    </tr>
  </tbody>
</table>

<h3 id="get-the-current-session">Get the current session</h3>

<p><code class="highlighter-rouge">.session.get()</code></p>

<p>Get the active session information.</p>

<h5 id="example-2">Example</h5>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">!==</span> <span class="s1">'INACTIVE'</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/**
     * res.status - 'ACTIVE'
     * res.session - session object
     * res.user - user object
     */</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// There is no active session. Show the login flow.</span>
    <span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">renderEl</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">successFn</span><span class="p">,</span> <span class="nx">errorFn</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters-2">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>callback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Callback function. The function is passed an object with status, session, user information if there is an active session and <code class="highlighter-rouge"><span class="p">{</span><span class="err">status:</span><span class="w"> </span><span class="err">'INACTIVE'</span><span class="p">}</span></code> if there is none.</td>
    </tr>
  </tbody>
</table>

<h3 id="refresh-the-current-session">Refresh the current session</h3>

<p><code class="highlighter-rouge">.session.refresh()</code></p>

<p>Refresh the current session by extending its lifetime. This can be used as a keep-alive operation.</p>

<h5 id="example-3">Example</h5>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'INACTIVE'</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// There is no active session to refresh</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// The session now has an extended lifetime</span>

    <span class="cm">/**
     * res.status - 'ACTIVE'
     * res.session - session object
     * res.user - user object
     */</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters-3">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>callback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Callback function. The function is passed an object with status, session, user information if there is an active session and <code class="highlighter-rouge"><span class="p">{</span><span class="err">status:</span><span class="w"> </span><span class="err">'INACTIVE'</span><span class="p">}</span></code> if there is none.</td>
    </tr>
  </tbody>
</table>

<h3 id="close-the-current-session">Close the current session</h3>

<p><code class="highlighter-rouge">.session.close()</code></p>

<p>Close the active session. Same as <code class="highlighter-rouge">.signOut()</code></p>

<h5 id="example-4">Example</h5>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// User is now logged out</span>
<span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters-4">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>callback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Callback function to invoke after closing the session. The function is invoked with an error message if the operation was not successful.</td>
    </tr>
  </tbody>
</table>

<h3 id="sign-out-the-user">Sign out the user</h3>

<p><code class="highlighter-rouge">.signOut()</code></p>

<p>Sign-out the current signed-in user. Shorthand for <code class="highlighter-rouge">.session.close()</code></p>

<h5 id="example-5">Example</h5>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">signOut</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// User is now logged out</span>
<span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters-5">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>callback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Callback function to invoke after signing out the user. The function is invoked with an error message if the operation was not successful.</td>
    </tr>
  </tbody>
</table>

<h2 id="token-management">Token Management</h2>

<p>Manage your OpenID Connect ID token with the Sign-in Widget SDK.</p>

<h3 id="renew-an-id-token">Renew an ID token</h3>

<p><code class="highlighter-rouge">.idToken.refresh()</code></p>

<p>Renews the <code class="highlighter-rouge">id_token</code> by requesting a new one from Okta (and thus extending its default lifetime of one hour).</p>

<h5 id="example-6">Example</h5>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">oktaSignIn</span><span class="p">.</span><span class="nx">idToken</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(</span><span class="nx">token</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">newToken</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// New id_token with extended lifetime</span>
<span class="p">});</span>
</code></pre>
</div>

<h5 id="parameters-6">Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>token</td>
      <td>String</td>
      <td>Yes</td>
      <td><code class="highlighter-rouge">id_token</code> to refresh</td>
    </tr>
    <tr>
      <td>callback</td>
      <td>Function</td>
      <td>Yes</td>
      <td>Callback function. The function is passed a new <code class="highlighter-rouge">id_token</code> if the operation was successful and an error message if it was not.</td>
    </tr>
    <tr>
      <td>options</td>
      <td>Object</td>
      <td>No</td>
      <td>OIDC options</td>
    </tr>
  </tbody>
</table>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/blog">Blog</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="https://okta.com/developer/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="http://stackoverflow.com/search?q=okta" target="_blank"><i class="fa fa-stack-overflow"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script type="text/javascript" src="/assets/master-d164e3cb90ad42ea74c141546269db0efdbc2259b7d44b7f52babb60097099a8.js"></script>
    
    
    
    
      <script type="text/javascript" src="/assets/docs-a2d1c410ee8c45eaa505f76f4f72815741c3bb6532081ae1abe25e3d8d00f4fa.js"></script>
    
    <!-- Remarketing tag -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1006913831;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <div style="display:none;">
      <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script>
    </div>
    <noscript>
      <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0">
      </div>
    </noscript>
    <!-- End Remarketing tag -->
    <!-- Crazy Egg Tracking -->
    <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script>
    <!-- End Crazy Egg Tracking -->

     <!-- END Footer -->
  </div>
</body>
</html>
