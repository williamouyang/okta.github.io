<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    const isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <link rel="stylesheet" type="text/css" media="all" href="/assets/css/animate.css">
  <link rel="stylesheet" type="text/css" media="all" href="/assets/css/okta.css">
  <title>Importing Your Stormpath Data Into Okta | Okta Developer</title>
  <meta name="description" content="Secure, scalable, and highly available authentication and user management for any app.
">
  <link rel="canonical" href="http://developer.okta.com/documentation/stormpath-import">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="http://developer.okta.com/feed.xml"><!-- GA -->
</head>

<body>
  <div class="Page importing-your-stormpath-data-into-okta">
    <!-- START Header -->
    <header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://www.okta.com/developer/signup" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="stack-overflow">Post your question on <a href="http://stackoverflow.com/search?q=okta" target="_blank">Stack Overflow</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="http://developer.okta.com/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="http://developer.okta.com/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header><!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TJ45R6');
    </script> <!-- End Google Tag Manager -->
     <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
        <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
        <div class="Sidebar-close Sidebar-toggle"></div>
        <div>
          <h3 class="Sidebar-title">Use Cases</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/use_cases/authentication">Authentication</a>
            </li>
            <li>
              <a href="/use_cases/mfa">Multi-Factor Authentication</a>
            </li>
            <li>
              <a href="/use_cases/api_access_management">API Access Management</a>
            </li>
            <li>
              <a href="/use_cases/integrate_with_okta">Integrate with Okta</a>
            </li>
          </ul>
          <h3 class="Sidebar-title">Reference</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
            </li>
            <li>
              <a href="/docs/api/resources/authn.html">Authentication Reference</a>
            </li>
            <li>
              <a href="/docs/api/resources/apps.html">API Reference</a>
            </li>
            <li>
              <a href="/reference/error_codes">Error Codes</a>
            </li>
            <li>
              <a href="/reference/okta_expression_language">Okta Expression Language</a>
            </li>
            <li>
              <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
            </li>
          </ul>

          <h3 class="Sidebar-title">Standards</h3>
          <ul class="Sidebar-nav">
            
            
            
            <li>
              <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/OIDC/">OpenID Connect and Okta</a>
            </li>
            
            
            
            <li>
              <a href="/standards/SAML/">SAML</a>
            </li>
            
            
            
            
            <li>
              <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
            </li>
            
          </ul>
          <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
          </script>
        </div>
      </aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/master/_source/">Edit Page</a>
      <h1 id="importing-your-stormpath-data-into-okta">Importing Your Stormpath Data Into Okta</h1>

<p>The Stormpath Import tool is a script that takes the data that you exported from Stormpath and imports it into Okta using Okta’s REST API. Once you have run the script, you will have to update your Stormpath Integration to use the Okta API.</p>

<p><a name="prerequisites-and-capacity-planning"></a></p>
<h2 id="prerequisites-and-capacity-planning">Prerequisites and Capacity Planning</h2>

<p>Before you begin the import process, you need the following:</p>

<ul>
  <li>A decompressed local copy of the data you <a href="https://stormpath.com/export">exported from Stormpath</a></li>
  <li>An Okta account which you can sign-up for here: <a href="https://www.okta.com/developer/signup/stormpath/">https://www.okta.com/developer/signup/stormpath/</a></li>
  <li>The URL for your new Okta org (for example: https://dev-884792.oktapreview.com)</li>
  <li>An Okta API token: <a href="http://developer.okta.com/docs/api/getting_started/getting_a_token.html">Instructions</a></li>
</ul>

<p>Once you have collected all these, start <a href="#running-the-import">the import process</a>.</p>

<blockquote>
  <p><strong>NOTE:</strong> If you are planning on migrating more than 20,000 users and/or 20 apps, you will need to get your limits increased. To increase your limit, email <a href="mailto:developers@okta.com">developers@okta.com</a>.</p>
</blockquote>

<p><a name="things-that-wont-migrate-and-known-caveats"></a></p>
<h2 id="things-that-wont-migrate-and-known-caveats">Things That Won’t Migrate and Known Caveats</h2>

<p><a name="custom-data-for-accounts-only"></a></p>
<h4 id="custom-data-for-accounts-only">Custom Data For Accounts Only</h4>

<p>Custom Data on any Stormpath resources other than Accounts is not imported. This means that Custom Data will not be imported from any of the following resources:</p>

<ul>
  <li>Tenant</li>
  <li>Application</li>
  <li>Directory</li>
  <li>Group</li>
  <li>Organization</li>
</ul>

<p>Account Custom Data will be imported according to the rules explained <a href="#stormpath-custom-data">below</a>.</p>

<p><a name="account-links--duplicate-emails"></a></p>
<h4 id="account-links--duplicate-emails">Account Links &amp; Duplicate Emails</h4>

<p>Accounts are identified based on their email address and merged based on their Account Links. If multiple Accounts have the same email address and are linked with Account Links, then the import tool merges these Accounts into a single Okta User. There are two scenarios in which an Account is not imported:</p>

<ul>
  <li>If there are multiple Stormpath Accounts with the same email address that are not linked with AccountLinks</li>
  <li>If there are multiple Stormpath Accounts with different email addresses that are linked with AccountLinks.</li>
</ul>

<p><a name="unverified-accounts"></a></p>
<h4 id="unverified-accounts">Unverified Accounts</h4>

<p>Accounts with <code class="highlighter-rouge">status</code> value <code class="highlighter-rouge">UNVERIFIED</code> are not imported. For more information on the <code class="highlighter-rouge">UNVERIFIED</code> status in Stormpath, see <a href="https://docs.stormpath.com/rest/product-guide/latest/accnt_mgmt.html#the-email-verification-workflow">the Stormpath documentation</a>.</p>

<p><a name="active-directory-and-other-ldap-directories"></a></p>
<h4 id="active-directory-and-other-ldap-directories">Active Directory and other LDAP Directories</h4>

<p>LDAP Directories are not imported. For more information see <a href="#stormpath-directories-ldap">below</a>.</p>

<p><a name="social-directory-caveats"></a></p>
<h4 id="social-directory-caveats">Social Directory Caveats</h4>

<p>Only Facebook, Google, and LinkedIn Directories are imported, as explained <a href="#stormpath-directories-social">below</a>. GitHub and Twitter Social Directories are not supported.</p>

<p><a name="password-strength-caveats"></a></p>
<h4 id="password-strength-caveats">Password Strength Caveats</h4>

<p>The Stormpath Password Policy attributes <code class="highlighter-rouge">maxLength</code> and <code class="highlighter-rouge">minDiacritic</code> are not supported in Okta and will not be imported. For more information see the <a href="#stormpath-directory-password-strength">Password Strength section below</a>.</p>

<p><a name="running-the-import"></a></p>
<h2 id="running-the-import-tool">Running the Import Tool</h2>

<p><a name="install"></a></p>
<h4 id="install">Install</h4>

<p>The Import Tool is written in Node.js, and requires Node.js version 7 or higher.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install -g @okta/stormpath-migration
</code></pre>
</div>

<p><a name="run"></a></p>
<h4 id="run">Run</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>import-stormpath --stormPathBaseDir /path/to/export/data --oktaBaseUrl https://your-org.okta.com --oktaApiToken yourApiToken
</code></pre>
</div>

<blockquote>
  <p>NOTE: The import tool uses the Okta API and respects the API’s rate limiting. If your import exceeds the rate limit at any time, the tool will automatically pause. It will then automatically resume once it is able to do so. These actions will be logged to the console.</p>
</blockquote>

<p><a name="required-args"></a></p>
<h4 id="required-args">Required Args</h4>

<ul>
  <li>
    <p><code class="highlighter-rouge">--stormPathBaseDir (-b)</code>: Root directory where your Stormpath tenant export data lives</p>

    <ul>
      <li>Example: <code class="highlighter-rouge">--stormPathBaseDir ~/Desktop/stormpath-exports/683IDSZVtUQewtFoqVrIEe</code></li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">--oktaBaseUrl (-u)</code>: Base URL of your Okta tenant</p>

    <ul>
      <li>Example: <code class="highlighter-rouge">--oktaBaseUrl https://your-org.oktapreview.com</code></li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">--oktaApiToken (-t)</code>: API token for your Okta tenant (SSWS token)</p>

    <ul>
      <li>Example: <code class="highlighter-rouge">--oktaApiToken 00gdoRRz2HUBdy06kTDwTOiPeVInGKpKfG-H4P_Lij</code></li>
    </ul>
  </li>
</ul>

<p><a name="optional-args"></a></p>
<h4 id="optional-args">Optional Args</h4>

<ul>
  <li>
    <p><code class="highlighter-rouge">--customData (-d)</code>: Strategy for importing Stormpath Account custom data. Defaults to <code class="highlighter-rouge">flatten</code>.</p>

    <ul>
      <li>
        <p>Options</p>

        <ul>
          <li><code class="highlighter-rouge">flatten</code> - (Default) Add <a href="http://developer.okta.com/docs/api/resources/schemas.html#user-profile-schema-property-object">custom user profile schema properties</a> for each custom data property. Use this for simple custom data objects. For more information see <a href="#custom-data-objects">below</a>.</li>
          <li><code class="highlighter-rouge">stringify</code> - Stringify the Account custom data object into one <code class="highlighter-rouge">customData</code> <a href="http://developer.okta.com/docs/api/resources/schemas.html#user-profile-schema-property-object">custom user profile schema property</a>. Use this for more complex custom data objects. For more information see <a href="#custom-data-objects">below</a>.</li>
          <li><code class="highlighter-rouge">exclude</code> - Exclude Stormpath Account custom data from the import</li>
        </ul>
      </li>
      <li>
        <p>Example: <code class="highlighter-rouge">--customData stringify</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">--concurrencyLimit (-c)</code>: Max number of concurrent transactions. Defaults to <code class="highlighter-rouge">30</code>. Higher values may speed up your import.</p>

    <ul>
      <li>Example: <code class="highlighter-rouge">--concurrencyLimit 200</code></li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">--maxFiles (-f)</code>: Max number of files to parse per directory. You can use this to test an import without processing all of your files.
    <ul>
      <li>Example: <code class="highlighter-rouge">--maxFiles 500</code></li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">--logLevel (-l)</code>: Logging level. Defaults to <code class="highlighter-rouge">info</code>.</p>

    <ul>
      <li>Options: <code class="highlighter-rouge">error</code>, <code class="highlighter-rouge">warn</code>, <code class="highlighter-rouge">info</code>, <code class="highlighter-rouge">verbose</code>, <code class="highlighter-rouge">debug</code>, <code class="highlighter-rouge">silly</code></li>
      <li>Example: <code class="highlighter-rouge">--logLevel verbose</code></li>
    </ul>
  </li>
</ul>

<p><a name="how-to-sanity-check-your-import"></a></p>
<h3 id="how-to-sanity-check-your-import">How to Sanity Check Your Import</h3>

<p>At a minimum, you should log in to your Okta Admin Console and check to make sure that the imported data looks the way you’d expect it to. For more information on this, see <a href="#how-stormpath-maps-to-okta">How Stormpath Maps to Okta</a> below.</p>

<p><a name="updating-your-application"></a></p>
<h3 id="updating-your-application">Updating Your Application</h3>

<p>After you run the import tool and check the results, update your application to use the latest version of the Stormpath integration. It is very important that you read the changelog for your integration to understand how the upgrade will affect your application.</p>

<blockquote>
  <p>NOTE: These integrations will not be supported after 2017-08-17.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Integration</th>
      <th>Version</th>
      <th>Documentation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Java Spring</td>
      <td>2.0.0-okta</td>
      <td>Release candidates currently documented <a href="https://github.com/stormpath/stormpath-sdk-java/blob/okta/OktaGettingStarted.md">here</a></td>
    </tr>
    <tr>
      <td>Java Spring Boot</td>
      <td>2.0.0-okta</td>
      <td>Release candidates currently documented <a href="https://github.com/stormpath/stormpath-sdk-java/blob/okta/OktaGettingStarted.md">here</a></td>
    </tr>
    <tr>
      <td>Node Express-Stormpath</td>
      <td>4</td>
      <td>Release candidates currently documented <a href="https://github.com/stormpath/express-stormpath/blob/4.0.0/docs/changelog.rst">here</a>.</td>
    </tr>
    <tr>
      <td>ASP.NET 4.x</td>
      <td>4</td>
      <td><a href="https://github.com/stormpath/stormpath-dotnet-owin-middleware/blob/master/changelog.md">Changelog</a>, <a href="https://github.com/stormpath/stormpath-dotnet-owin-middleware/blob/master/migrating.md">Migration Guide</a></td>
    </tr>
    <tr>
      <td>ASP.NET Core</td>
      <td>4</td>
      <td><a href="https://github.com/stormpath/stormpath-dotnet-owin-middleware/blob/master/changelog.md">Changelog</a>, <a href="https://github.com/stormpath/stormpath-dotnet-owin-middleware/blob/master/migrating.md">Migration Guide</a></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>NOTE: If you are not using one of these integrations, then you will have to port the SDK functionality to use the Okta REST API.</p>
</blockquote>

<p>Once you have updated your application and read the Changelog, you should try logging in with a known user to confirm the import has succeeded. If you are experiencing any problems, get in touch: <a href="mailto:developers@okta.com">developers@okta.com</a></p>

<p><a name="debugging-the-tool"></a></p>
<h3 id="debugging-the-tool">Debugging the tool</h3>

<p>If you experience problems with your import, try setting the <code class="highlighter-rouge">logLevel</code> higher, as documented <a href="#optional-args">above</a>. You can also read the import script’s source code <a href="https://github.com/okta/stormpath-migration">on GitHub</a>.</p>

<p><a name="how-stormpath-maps-to-okta"></a></p>
<h2 id="how-stormpath-maps-to-okta">How Stormpath Maps to Okta</h2>

<p><a name="overview"></a></p>
<h3 id="overview">Overview</h3>

<p>The Okta Organization (or Org) represents your private space inside Okta, which means it is equivalent to a Stormpath Tenant. Your Stormpath Accounts are modeled as Users inside Okta. The equivalent of the Stormpath Directory, Group, or Organization in Okta is the Group. In Okta, Groups can be thought of as sets of Users, and Users can be members of many different sets. Whereas in Stormpath your user Account belonged to a particular Directory, in Okta these associations are far more free-form. An Okta User can be associated with many different Groups simultaneously. For an example of how this can affect your user model, see <a href="#changes-in-structure-and-hierarchy">below</a>.</p>

<p>The import tool works by iterating over your Stormpath data and then uses the Okta API to create equivalent objects inside Okta. The table below shows how this mapping happens. Further information on this mapping can be found in dedicated sections below:</p>

<p><strong>Headline Resources</strong></p>

<table>
  <thead>
    <tr>
      <th>Stormpath Resource</th>
      <th>Okta Equivalent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Account</td>
      <td><a href="http://developer.okta.com/docs/api/resources/users.html#user-properties">User</a></td>
    </tr>
    <tr>
      <td>Application</td>
      <td><a href="http://developer.okta.com/docs/api/resources/oauth-clients.html">OAuth 2.0 Client Application</a> acting as a client for an <a href="http://developer.okta.com/docs/api/resources/oauth2.html#authorization-servers">OAuth 2.0 Authorization Server</a></td>
    </tr>
    <tr>
      <td>Directory (Cloud)</td>
      <td><a href="http://developer.okta.com/docs/api/resources/groups.html">Group</a></td>
    </tr>
    <tr>
      <td>Directory (Social)</td>
      <td><a href="http://developer.okta.com/docs/api/resources/idps.html">Identity Provider</a> + <a href="http://developer.okta.com/docs/api/resources/groups.html">Group</a></td>
    </tr>
    <tr>
      <td>Directory (SAML)</td>
      <td><a href="http://developer.okta.com/docs/api/resources/idps.html">Identity Provider</a></td>
    </tr>
    <tr>
      <td>Directory (LDAP)</td>
      <td>Not imported (<a href="#stormpath-directories-ldap">see below</a>)</td>
    </tr>
    <tr>
      <td>Directory Password Strength</td>
      <td><a href="http://developer.okta.com/docs/api/resources/policy.html#GroupPasswordPolicy">Group Password Policy</a></td>
    </tr>
    <tr>
      <td>Group</td>
      <td><a href="http://developer.okta.com/docs/api/resources/groups.html">Group</a></td>
    </tr>
    <tr>
      <td>Organization</td>
      <td><a href="http://developer.okta.com/docs/api/resources/groups.html">Group</a></td>
    </tr>
    <tr>
      <td>Custom Data</td>
      <td><a href="http://developer.okta.com/docs/api/resources/schemas.html">Custom Schema Attributes</a></td>
    </tr>
  </tbody>
</table>

<p>You may notice that many Stormpath resources are becoming Groups inside Okta. This is primarily because the Okta Groups API supports prefix searching. As part of the import process, your Okta entities will have relevant prefixes attached to them. So, to fetch all Groups that represent imported Stormpath Directories, the query would be:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/groups?q=dir
</code></pre>
</div>

<p>More on this can be found in the <a href="#import-naming-conventions">Import Naming Conventions</a> section below.</p>

<p><a name="changes-in-structure-and-hierarchy"></a></p>
<h4 id="changes-in-structure-and-hierarchy">Changes in Structure and Hierarchy</h4>

<p>Groups in Okta do not own Users, and Users in Okta can be associated with multiple Groups. This is very different from Stormpath’s data model, where Directories own Accounts. Additionally, in Stormpath Accounts can be indirectly associated with other Account Stores. For example, in Stormpath, an Account “JSmith@ex.com” can be associated with Organization X indirectly, via a Directory that is directly associated with that Organization:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[JSmith@ex.com]--[DirectoryA]--[OrganizationX]
</code></pre>
</div>

<p>Because Okta has a relatively flat data model, the import process cannot preserve this structure and behavior. During import, Organization X and Directory A will become two Okta Groups, <code class="highlighter-rouge">org:OrganizationX</code> and <code class="highlighter-rouge">dir:DirectoryA</code>. The Account <code class="highlighter-rouge">JSmith@ex.com</code> will become a User with the same <code class="highlighter-rouge">name</code>, but that User cannot be indirectly associated with a Group via another Group. Instead, the User will be associated with both Groups:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>        ┌--[org:OrganizationX]
        |
[JSmith@ex.com]--[dir:DirectoryA]
</code></pre>
</div>

<p>This means that in the future, if you add a new User to the <code class="highlighter-rouge">dir:DirectoryA</code> Group, they will not be automatically added to the <code class="highlighter-rouge">org:OrganizationX</code> Group. You will have to explicitly add the new User to both Groups.</p>

<p><a name="import-naming-conventions"></a></p>
<h4 id="import-naming-conventions">Import Naming Conventions</h4>

<p>Each of the new Okta entities is named in a way that ties it to the Stormpath entity that is its source. The naming conventions are also designed for easy querying. More information about each entity’s naming convention can be found below.</p>

<p><a name="the-import-process"></a></p>
<h3 id="the-import-process">The Import Process</h3>

<p>Stormpath resources are imported in the following order:</p>

<ol>
  <li>Accounts (including their Custom Data)</li>
  <li>Directories (including Password Policy)</li>
  <li>Groups</li>
  <li>Organizations</li>
  <li>Applications</li>
</ol>

<p><a name="stormpath-accounts"></a></p>
<h3 id="stormpath-accounts">Stormpath Accounts</h3>

<p>Stormpath Accounts are imported first. They are identified and merged based on their email address. If multiple Accounts have the same email address and are linked with AccountLinks, then the import tool will merge these Accounts into a single Okta User.</p>

<p>The information from a Stormpath Account is imported into the <a href="http://developer.okta.com/docs/api/resources/users.html#profile-object">Profile object</a> found inside an <a href="http://developer.okta.com/docs/api/resources/users.html#user-properties">Okta User</a>.</p>

<table>
  <thead>
    <tr>
      <th>Stormpath Account Attribute</th>
      <th>Okta Profile Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">username</code></td>
      <td><code class="highlighter-rouge">login</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">email</code></td>
      <td><code class="highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">givenName</code></td>
      <td><code class="highlighter-rouge">firstName</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">middleName</code></td>
      <td><code class="highlighter-rouge">middleName</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">lastName</code></td>
      <td><code class="highlighter-rouge">surname</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">fullName</code></td>
      <td><code class="highlighter-rouge">displayName</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">emailVerificationStatus</code></td>
      <td><code class="highlighter-rouge">emailVerificationStatus</code> *</td>
    </tr>
  </tbody>
</table>

<p><em>*This is a <a href="http://developer.okta.com/docs/api/resources/schemas.html">Custom Schema Attribute</a>.</em></p>

<p>User API Keys (up to 10) and Custom Data are also imported. API Keys are added as Custom Schema Attributes to the Profile using this format:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"stormpathApiKey_{1-10}": "{apiKeyId}:{apiKeySecret}"
</code></pre>
</div>

<p>More information on custom data can be found <a href="#custom-data">below</a>.</p>

<p><strong>Imported User Naming Convention</strong></p>

<p>Okta Users created from Stormpath Accounts have a <code class="highlighter-rouge">login</code> inside the User’s Profile that exactly matches the <code class="highlighter-rouge">username</code> found on the old Stormpath Account:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"login": "{SP_username}"
</code></pre>
</div>

<p><a name="stormpath-custom-data"></a></p>
<h3 id="stormpath-custom-data">Stormpath Custom Data</h3>

<p>Only Custom Data associated with Accounts will be imported, although it can be skipped entirely if you wish. For more information on this, see <a href="#running-the-import">Running the Import</a>. If you choose to import Custom Data, the Okta import tool will scan all of the Custom Data on every Stormpath Account and create one Custom Profile Schema for all of the Users it is importing. However, Profile attributes will only be returned if they have values. If they are blank, they will not be returned by the API.</p>

<p>What your imported Custom Data looks like depends primarily on whether is a simple <code class="highlighter-rouge">key:value</code> pair, or a more complex object.</p>

<p><a name="simple-custom-data"></a></p>
<h5 id="simple-custom-data">Simple Custom Data</h5>

<p>Any Custom Data attributes are imported and added to a user’s profile as custom schema properties. For more on the Okta User Profile Schema go here: http://developer.okta.com/docs/api/resources/schemas.html#schema-properties</p>

<p>This Account Custom Data in Stormpath:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"customData": {
    "hello": "world"
}
</code></pre>
</div>

<p>Would be added to the User Profile in Okta:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"profile": {
    "login": "rob@example.com",
    "firstName": "Rob",
    "lastName": "Examplehousse",
    "hello": "world"
}
</code></pre>
</div>

<p><a name="custom-data-objects"></a></p>
<h5 id="custom-data-objects">Custom Data Objects</h5>

<p>Since Okta does not support complex objects in the User Profile, those are imported in one of two ways: either by flattening (default), or stringifying.</p>

<p>Here is an example of a complex object:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w"> 
    </span><span class="err">foo:</span><span class="w"> </span><span class="err">{</span><span class="w"> 
        </span><span class="err">bar:</span><span class="w"> </span><span class="err">{</span><span class="w"> 
            </span><span class="err">baz:</span><span class="w"> </span><span class="err">'john'</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
    </span><span class="err">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<p>And here it is after the two different migration strategies have been applied:</p>

<ul>
  <li><strong>Flattened:</strong> <code class="highlighter-rouge">"foo_bar_baz": "john"</code></li>
  <li><strong>Stringified:</strong> <code class="highlighter-rouge">"customData": "{"foo":{"bar":{"baz":"john"}}}"</code></li>
</ul>

<p><strong>Flattened</strong></p>

<p>In this case, all properties except the last one are concatenated into the attribute name, and the last value is preserved. This strategy is most likely to preserve the data structure, though two important points should be noted:</p>

<ul>
  <li>Mixed-type arrays will be converted into arrays of strings</li>
  <li>Empty objects will not be imported</li>
</ul>

<p>Because it will likely preserve the data structure, and also because allows for <a href="http://developer.okta.com/docs/api/resources/users.html#list-users-with-search">search</a>, this is the default strategy that is used by the import tool.</p>

<p><strong>Stringified</strong></p>

<p>Stringifying serializes the entire object into a single string, which is then added as a value to the Profile attribute “customData”. If there are multiple complex objects, they are all included in that string. Do not use this strategy if you will need to search your custom schema attributes in Okta. If you do not have a consistent schema across all accounts, and one property may have multiple types values, e.g. a number or string, the stringify option may be a better choice (if search is not needed).</p>

<p><a name="stormpath-directories-cloud"></a></p>
<h3 id="stormpath-directories-cloud">Stormpath Directories (Cloud)</h3>

<p><a href="https://docs.stormpath.com/rest/product-guide/latest/accnt_mgmt.html#types-of-directories">Stormpath Cloud Directories</a> are modeled as <a href="http://developer.okta.com/docs/api/resources/groups.html#group-attributes">Okta Groups</a>. The Cloud Directories Password Strength object is modeled as an Okta Password Policy, about which you can find more <a href="#stormpath-directory-password-strength">below</a>. All Accounts that were associated with this Cloud Directory are now represented as Users inside Okta, and these Users are added to the new Group.</p>

<table>
  <thead>
    <tr>
      <th>Stormpath Directory Attribute</th>
      <th>Okta Group Profile Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">name</code></td>
      <td><code class="highlighter-rouge">name</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">description</code></td>
      <td><code class="highlighter-rouge">description</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Imported (Directory) Group Naming Convention</strong></p>

<p>Okta Groups made for imported Stormpath Cloud Directories use the <code class="highlighter-rouge">name</code> property inside the Okta Group’s Profile object. The <code class="highlighter-rouge">name</code> is made up of a <code class="highlighter-rouge">dir:</code> prefix and the Stormpath Directory’s <code class="highlighter-rouge">name</code>:</p>

<p><code class="highlighter-rouge">"name": "dir:{SP_directoryName}"</code></p>

<p><a name="stormpath-directory-password-strength"></a></p>
<h4 id="stormpath-directory-password-strength">Stormpath Directory Password Strength</h4>

<p>The <a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#password-strength">Stormpath Cloud Directory Password Policy’s Strength resource</a> maps almost entirely to the <a href="http://developer.okta.com/docs/api/resources/policy.html#PasswordComplexityObject">Okta Password Policy’s Complexity object</a>, with the <code class="highlighter-rouge">preventReuse</code> attribute being mapped to the <a href="http://developer.okta.com/docs/api/resources/policy.html#PasswordAgeObject">Okta Password Policy’s Age object</a>.</p>

<p>There are a few points to note here:</p>

<ul>
  <li>First of all, the Stormpath Password Policy attributes <code class="highlighter-rouge">maxLength</code> and <code class="highlighter-rouge">minDiacritic</code> are not supported in Okta and will not migrate. Also, the Stormpath attributes <code class="highlighter-rouge">minLowerCase</code>, <code class="highlighter-rouge">minUpperCase</code>, <code class="highlighter-rouge">minNumber</code>, and <code class="highlighter-rouge">minSymbol</code> all have integer values in Stormpath, specifying an occurrence requirement. Whereas in Okta, the equivalent attributes take 0 or 1, meaning that the value must occur at least once. For more information see <a href="http://developer.okta.com/docs/api/resources/policy.html#PasswordComplexityObject">here</a>.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>Stormpath Directory Password Strength Attribute</th>
      <th>Okta Complexity Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">minLength</code></td>
      <td><code class="highlighter-rouge">minLength</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">maxLength</code></td>
      <td>Not supported</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">minLowerCase</code></td>
      <td><code class="highlighter-rouge">minLowerCase</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">minUpperCase</code></td>
      <td><code class="highlighter-rouge">minUpperCase</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">minNumeric</code></td>
      <td><code class="highlighter-rouge">minNumber</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">minSymbol</code></td>
      <td><code class="highlighter-rouge">minSymbol</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">minDiacritic</code></td>
      <td>Not supported</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">preventReuse</code></td>
      <td><code class="highlighter-rouge">historyCount</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Imported Group Password Policy Naming Convention</strong></p>

<p>Okta Group Password Policies made for imported Stormpath Password Strength policies have a <code class="highlighter-rouge">name</code> property that is composed of the <code class="highlighter-rouge">name</code> of the Stormpath Directory that owns the source Password Strength, as well as a <code class="highlighter-rouge">-Policy</code> suffix:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"name": "{SP_directoryName}-Policy"
</code></pre>
</div>

<p><a name="stormpath-directories-social"></a></p>
<h3 id="stormpath-directories-social">Stormpath Directories (Social)</h3>

<p><a href="https://docs.stormpath.com/rest/product-guide/latest/auth_n.html#social-login-providers">Stormpath Social Directories</a> (Facebook, Google, LinkedIn) are modeled as <a href="http://developer.okta.com/docs/api/resources/idps.html">Okta Identity Providers</a>. Twitter and GitHub are not supported, so any Stormpath Social Directories for those providers are not imported.</p>

<p>Your Social providers Client ID and Secret are also imported into the IdP’s <code class="highlighter-rouge">credentials</code> object.</p>

<p>Any Stormpath Accounts that were associated with your Stormpath Social Directory will have their equivalent Okta Users associated with the new Okta Identity Provider. Custom <a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#attribute-statement-mapping-rules">Attribute Mappings</a> from your Stormpath Social Directory are added as <a href="http://developer.okta.com/docs/api/resources/schemas.html">Custom Schema Attributes</a> to the relevant User Profiles. An Okta Group is also created and associated with the relevant Authorization Server. That Group shares the same <code class="highlighter-rouge">name</code> as the Identity Provider and is assigned Users as they are created during social login.</p>

<table>
  <thead>
    <tr>
      <th>Stormpath Directory Attribute</th>
      <th>Okta Group Profile Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">name</code></td>
      <td><code class="highlighter-rouge">name</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">description</code></td>
      <td><code class="highlighter-rouge">description</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Imported (Social) Identity Provider Naming Convention</strong></p>

<p>Identity Providers created for imported Stormpath Social Directories have a <code class="highlighter-rouge">name</code> property that is composed of a <code class="highlighter-rouge">dir:</code> prefix and the <code class="highlighter-rouge">name</code> of the Stormpath Directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"name": "dir:{SP_directoryName}"
</code></pre>
</div>

<p><a name="stormpath-directories-saml"></a></p>
<h3 id="stormpath-directories-saml">Stormpath Directories (SAML)</h3>

<p>Just like Stormpath Social Directories, <a href="https://docs.stormpath.com/rest/product-guide/latest/auth_n.html#social-login-providers">Stormpath SAML Directories</a> are also modeled as <a href="http://developer.okta.com/docs/api/resources/idps.html">Okta Identity Providers</a>. Your SAML signing certificate is also imported over, as well as the SSO Login URL.</p>

<p>Additionally, any attribute mappings that you defined in Stormpath are  imported as <a href="http://developer.okta.com/docs/api/resources/schemas.html">Custom Schema Attributes</a>.</p>

<p>Users will be associated with this new SAML IdP when they next log in.</p>

<p><strong>Imported (SAML) Identity Provider Naming Convention</strong></p>

<p>Identity Providers have a <code class="highlighter-rouge">name</code> property that is composed of a <code class="highlighter-rouge">dir:</code> prefix and the <code class="highlighter-rouge">name</code> of the Stormpath Directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"name": "dir:{SP_directoryName}"
</code></pre>
</div>

<p><a name="stormpath-directories-ldap"></a></p>
<h3 id="stormpath-directories-ldap">Stormpath Directories (LDAP)</h3>

<p>As mentioned in <a href="#things-that-wont-migrate-and-known-caveats">the Caveats section</a>, LDAP Directories (including Active Directory) cannot be imported into Okta. You will need to set them up fresh inside Okta, which will re-import the data from your LDAP directory.</p>

<ul>
  <li>For instructions on how to set-up Active Directory, see here: https://help.okta.com/en/prod/Content/Topics/Directory/Okta%20Active%20Directory%20Agent.htm</li>
  <li>For instructions on how to set-up LDAP, see here: https://support.okta.com/help/Documentation/Knowledge_Article/87604166-LDAP-Agent-Deployment-Guide</li>
</ul>

<p><a name="stormpath-groups"></a></p>
<h3 id="stormpath-groups">Stormpath Groups</h3>

<p>The information inside a <a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#group">Stormpath Group</a> is imported into the Okta Group’s <a href="http://developer.okta.com/docs/api/resources/groups.html#profile-object">Profile object</a>. The Stormpath Account Store Mappings are used to find all Accounts that were associated with this Group, and these associations are then used to add the appropriate Okta Users to the newly-created Okta Group.</p>

<table>
  <thead>
    <tr>
      <th>Stormpath Group Attribute</th>
      <th>Okta Group Profile Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">name</code></td>
      <td><code class="highlighter-rouge">name</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">description</code></td>
      <td><code class="highlighter-rouge">description</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Imported (Group) Group Naming Convention</strong></p>

<p>Okta Groups that model Stormpath Groups use the <code class="highlighter-rouge">name</code> property inside the Okta Group’s Profile. The Profile <code class="highlighter-rouge">name</code> is made up of a <code class="highlighter-rouge">group:</code> prefix, along with the <code class="highlighter-rouge">id</code> of the Okta Group that models the Stormpath Directory that owned the Stormpath Group, as well as the exact <code class="highlighter-rouge">name</code> of the Stormpath Group:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"name": "group:{OKTA_groupId}:{SP_groupName}" 
</code></pre>
</div>

<p><a name="stormpath-organizations"></a></p>
<h3 id="stormpath-organizations">Stormpath Organizations</h3>

<p>The <a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#organization">Stormpath Organization</a> becomes a Group in Okta, and its information is imported to an <a href="http://developer.okta.com/docs/api/resources/groups.html#profile-object">Okta Group Profile</a> (see table below). The Organization Account Store Mappings are used to find all Accounts associated with that Organization, and the imported Users are associated with this new Organization Group.</p>

<table>
  <thead>
    <tr>
      <th>Stormpath Organization Attribute</th>
      <th>Okta Group Profile Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">name</code></td>
      <td><code class="highlighter-rouge">name</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">nameKey</code></td>
      <td><code class="highlighter-rouge">description</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Imported (Organization) Group Naming Convention</strong></p>

<p>Okta Groups that model Stormpath Organizations use the <code class="highlighter-rouge">name</code> and <code class="highlighter-rouge">description</code> properties inside the Group’s Profile. The Profile <code class="highlighter-rouge">name</code> is made up of an <code class="highlighter-rouge">org:</code> prefix and the Stormpath Organization’s <code class="highlighter-rouge">name</code>:</p>

<p><code class="highlighter-rouge">"name": "org:{SP_organizationName}"</code></p>

<p>The Profile <code class="highlighter-rouge">description</code> is made up of the Stormpath Organization’s <code class="highlighter-rouge">nameKey</code> with no prefix:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"description": "{SP_organizationNameKey}"
</code></pre>
</div>

<p><a name="stormpath-applications"></a></p>
<h3 id="stormpath-applications">Stormpath Applications</h3>

<p>Stormpath Applications have OAuth Client Applications created for them in Okta, as well as Authorization Servers.</p>

<ul>
  <li>An OAuth Client Application is created with <code class="highlighter-rouge">type</code> set to <code class="highlighter-rouge">web</code></li>
  <li>An <a href="http://developer.okta.com/docs/api/resources/oauth2.html#authorization-servers">Authorization Server</a> is also created</li>
  <li>The Authorization Server and Client Application are associated with one another</li>
  <li>Any relevant Okta Groups are assigned to the new OAuth Client Application</li>
  <li>Access and Refresh Token TTL values are imported</li>
</ul>

<p><strong>Imported (Application) OAuth Client Naming Convention</strong></p>

<p>Okta OAuth Client Applications that model Stormpath Applications have a <code class="highlighter-rouge">client_name</code> that is made up of a <code class="highlighter-rouge">app:</code> prefix and the Stormpath Application’s <code class="highlighter-rouge">name</code> attribute:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"client_name": "app:{SP_applicationName}"
</code></pre>
</div>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/blog">Blog</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="https://okta.com/developer/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="http://stackoverflow.com/search?q=okta" target="_blank"><i class="fa fa-stack-overflow"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" defer="defer" src="/assets/js/docs.js">
    </script>
    <script src="/assets/js/master.js">
    </script> <!-- Remarketing tag -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1006913831;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <div style="display:none;">
      <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
      </script>
    </div><noscript>
    <div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript> <!-- End Remarketing tag -->
     <!-- Crazy Egg Tracking -->
    <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script> <!-- End Crazy Egg Tracking -->

     <!-- END Footer -->
  </div>
</body>
</html>
